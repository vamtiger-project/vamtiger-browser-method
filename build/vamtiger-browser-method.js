!function(){"use strict";function e(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t)).next())})}var t,n,r,o,i,a,s,l,c,u;!function(e){e.jsonld="application/ld+json"}(t||(t={})),function(e){e.type="type"}(n||(n={})),function(e){e.vamtigerElementQuery="vamtigerLoadElementQueryCss",e.elementQueryCssLoaded="elementQueryCssLoaded"}(r||(r={})),function(e){e.failedToLoadScript="Failed to load script",e.windowPropertyNotSet="Window property not set",e.unsupportedFeature="Unsupported feature",e.customElementAreadyDefined="Custom element already defined",e.noElementName="No Element Name",e.noTemplateUrl="No Template URL",e.noElementSelector="No Template Selector",e.noTemplateForUrl="No Template for URL",e.noTemplate="No Template",e.noElementForSelector="No Element for Selector"}(o||(o={})),function(e){e.nothing="",e.slash="/",e.dash="-"}(i||(i={})),function(e){e.div="div"}(a||(a={})),function(e){e.stylesheet="stylesheet"}(s||(s={})),function(e){e.script="script",e.link="link",e.style="style"}(l||(l={})),function(e){e.lastStylesheet="style:last-of-type",e.lastMetaElement="head > meta:last-of-type",e.webcomponentsjs='script[src*="@webcomponents/webcomponentsjs"]'}(c||(c={})),function(e){e.loadElementQueryCss="vamtiger-load-element-query-css"}(u||(u={}));var m=/:{1,2}host/gm,d=(new RegExp(i.dash,"g"),/\W+/g),f=i.nothing;var h=i.nothing,p=d,w=function(e){return e.split(p).map(function(e,t){return!t&&e.toLowerCase()||e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase()}).join(h)},E=m,v=i.nothing;function y(e){var t=e.css,n=e.stylesheetName,r=void 0===n?v:n,o=e.hostName,i=void 0===o?v:o,a=function(e){var t=e.selector,n=void 0===t?f:t,r=e.properties,o=void 0===r?{}:r,i=e.dataset,a=void 0===i?{}:i,s=e.attributes,l=void 0===s?{}:s,u=o.id,m=document.head,d=m.querySelector(c.lastMetaElement),h=Object.keys(l),p=u&&(window[u]||n&&m.querySelector(n)),w=!p&&document.createElement("meta"),E=p||w;return w&&(Object.assign(w,o),Object.assign(w.dataset,a),d&&d.nextElementSibling?m.insertBefore(w,d.nextElementSibling):m.appendChild(w)),h.forEach(function(e){return!E.hasAttribute(e)&&E.setAttribute(void 0,l[e])}),E}({properties:{id:u.loadElementQueryCss}}),s=w(r),l=a.dataset,m=!l.hasOwnProperty(i)&&i&&t.replace(E,i)||t,d=window.EQCSS;m&&d&&(d.register(d.parse(m)),s?l[s]=v:i&&(l[i]=v))}var S=o.failedToLoadScript,g=s.stylesheet,L=l.script,b=l.link,T=l.style,C=function(e){return new Promise(function(r,o){var i=document.head,a=document.body,s=e,l=s.js,c=s.name,u=s.jsonld,m=s.removeFromDom,d=e.src,f=e,h=f.css,p=f.name,w=e.href,E=e.hasOwnProperty("src")||e.hasOwnProperty("href"),v=(l||d)&&L||h&&T||w&&b,C=d&&'script[src="'+d+'"]'||w&&'link[href="'+w+'"]'||l&&c&&'script[data-name="'+c+'"]'||h&&p&&'style[data-name="'+p+'"]',N=i.querySelector(C)||a.querySelector(C),M=C&&v&&document.createElement(v);function j(){M&&(F(),m&&i.removeChild(M),r(M))}function P(e){F(),console.error(e),o(new Error(""+S))}function F(){M&&(M.removeEventListener("load",j),M.removeEventListener("error",P))}M instanceof HTMLScriptElement?d?M.src=d:l&&(M.innerHTML=l,M.dataset.name=c,u&&M.setAttribute(n.type,t.jsonld)):M instanceof HTMLLinkElement?(M.rel=g,M.href=w):M instanceof HTMLStyleElement&&(M.innerHTML=h,M.dataset.name=p,y({css:h,stylesheetName:p})),N?r(N):M&&(M.addEventListener("load",j),M.addEventListener("error",P),i.appendChild(M),E||j())})};var N=o.unsupportedFeature,M=o.customElementAreadyDefined;var j=a.div,P=o.noElementName,F=o.noTemplate,q=o.noElementForSelector;var x=a.div,H=o.noElementName,U=o.noElementSelector,A=o.noTemplateUrl,Q=o.noTemplateForUrl,k=o.noElementForSelector;var O=window.VamtigerBrowserMethod,_={loadScript:C,loadScripts:function(e){return Promise.all(e.map(C))},loadScriptsSequentially:function(t){return new Promise(function(n,r){var o=new Set,i=Promise.resolve();return t.forEach(function(t){i=i.then(function(){return e(void 0,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,Promise.all(t.map(C))];case 1:return[2,e.sent()]}})})}).then(function(e){return e.forEach(function(e){return o.add(e)})})}),i=i.then(function(){return n(Array.from(o))})})},loadShadowStylesheet:function(e){var t=e.css,n=e.element,r=n.shadowRoot,o=(n.localName,r&&r.querySelector(c.lastStylesheet)),i=r&&document.createElement("style");i&&r&&(i.innerHTML=t,o&&o.nextElementSibling?r.insertBefore(i,o.nextElementSibling):r.appendChild(i))},defineCustomElement:function e(t){var n=t.name,r=t.constructor,o=t.ignore,i=window.customElements,a=i&&i.define,s=a&&i.get&&i.get(n);if(a&&!s)i.define(n,r);else{if(s)throw new Error(M+": "+n);if(o)throw new Error(N+": Custom Elements - "+n);e({name:n,constructor:r,ignore:!0})}},pause:function(e){var t=e.milliseconds,n=void 0===t?1e3:t;return new Promise(function(e,t){return setTimeout(e,n)})},getElement:function(t){return e(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return t.url?[4,function(t){var n=t.name,r=t.url,o=t.selector;return e(this,void 0,void 0,function(){var e,t,i,a;return __generator(this,function(s){switch(s.label){case 0:return(t=n&&o&&r)?[4,fetch(r).then(function(e){return e.text()})]:[3,2];case 1:t=s.sent(),s.label=2;case 2:if(i=(e=t)&&document.createElement(x),a=null,!n)throw new Error(H);if(!o)throw new Error(U);if(!r)throw new Error(A);if(!e)throw new Error(Q);if(i&&(i.innerHTML=e,a=i.querySelector(o)),!a)throw new Error(k);return a.setAttribute("dataset-name",n),[2,a]}})})}(t)]:[3,2];case 1:return[2,n.sent()];case 2:return[2,function(e){var t=e.name,n=e.template,r=t&&n&&document.createElement(j),o=null;if(!t)throw new Error(P);if(!n)throw new Error(F);if(r&&(r.innerHTML=n,o=r.firstElementChild),!o)throw new Error(q);return o.dataset.name=t,o}(t)]}})})}};try{O||(window.VamtigerBrowserMethod=_)}catch(e){global.VamtigerBrowserMethod=O}}();
//# sourceMappingURL=vamtiger-browser-method.js.map
