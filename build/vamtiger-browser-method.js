var index=function(e){"use strict";function t(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{l(n.next(e))}catch(e){a(e)}}function i(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,i)}l((n=n.apply(e,t)).next())})}function r(t){var r=t.css,n=t.stylesheetName,o=void 0===n?"":n,a=t.hostName,s=void 0===a?"":a,i=c.showRootHost,l=e.StringConstant.nothing,m=function(t){var r=t.selector,n=void 0===r?"":r,o=t.properties,a=void 0===o?{}:o,s=t.dataset,i=void 0===s?{}:s,l=t.attributes,c=void 0===l?{}:l,m=(e.StringConstant.nothing,a.id),u=document.head,d=u.querySelector(e.Selector.lastMetaElement),p=Object.keys(c),f=m&&(window[m]||n&&u.querySelector(n)),E=!f&&document.createElement("meta"),h=f||E;return E&&(Object.assign(E,a),Object.assign(E.dataset,i),d&&d.nextElementSibling?u.insertBefore(E,d.nextElementSibling):u.appendChild(E)),p.forEach(function(e){return!h.hasAttribute(e)&&h.setAttribute(void 0,c[e])}),h}({properties:{id:e.MetaElementName.loadElementQueryCss}}),u=function(t){var r=e.StringConstant.nothing,n=c.nonWord;return t.split(n).map(function(e,t){return!t&&e.toLowerCase()||e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase()}).join(r)}(o),d=m.dataset,p=!d.hasOwnProperty(s)&&s&&r.replace(i,s)||r,f=window.EQCSS;p&&f&&(f.register(f.parse(p)),u?d[u]=l:s&&(d[s]=l))}var n=function(t){return new Promise(function(n,o){var a=e.ErrorMessage.failedToLoadScript,s=e.LinkRel.stylesheet,i=e.LoadScriptElement.script,l=e.LoadScriptElement.link,c=e.LoadScriptElement.style,m=document.head,u=document.body,d=t,p=d.js,f=d.name,E=d.jsonld,h=d.removeFromDom,w=t.src,g=t,S=g.css,y=g.name,v=t.href,L=t.hasOwnProperty("src")||t.hasOwnProperty("href"),M=(p||w)&&i||S&&c||v&&l,T=w&&'script[src="'+w+'"]'||v&&'link[href="'+v+'"]'||p&&f&&'script[data-name="'+f+'"]'||S&&y&&'style[data-name="'+y+'"]',b=m.querySelector(T)||u.querySelector(T),C=T&&M&&document.createElement(M);function N(){C&&(j(),h&&m.removeChild(C),n(C))}function A(e){j(),console.error(e),o(new Error(""+a))}function j(){C&&(C.removeEventListener("load",N),C.removeEventListener("error",A))}C instanceof HTMLScriptElement?w?C.src=w:p&&(C.innerHTML=p,C.dataset.name=f,E&&C.setAttribute(e.ScriptAttribute.type,e.ScriptType.jsonld)):C instanceof HTMLLinkElement?(C.rel=s,C.href=v):C instanceof HTMLStyleElement&&(C.innerHTML=S,C.dataset.name=y,r({css:S,stylesheetName:y})),b?n(b):C&&(C.addEventListener("load",N),C.addEventListener("error",A),m.appendChild(C),L||N())})};var o,a,s,i,l;(e.ScriptType||(e.ScriptType={})).jsonld="application/ld+json",(e.ScriptAttribute||(e.ScriptAttribute={})).type="type",(o=e.DataAttribute||(e.DataAttribute={})).vamtigerElementQuery="vamtigerLoadElementQueryCss",o.elementQueryCssLoaded="elementQueryCssLoaded",(a=e.ErrorMessage||(e.ErrorMessage={})).failedToLoadScript="Failed to load script",a.windowPropertyNotSet="Window property not set",a.unsupportedFeature="Unsupported feature",a.customElementAreadyDefined="Custom element already defined",a.noElementName="No Element Name",a.noTemplateUrl="No Template URL",a.noElementSelector="No Template Selector",a.noTemplateForUrl="No Template for URL",a.noTemplate="No Template",a.noElementForSelector="No Element for Selector",(s=e.StringConstant||(e.StringConstant={})).nothing="",s.slash="/",s.dash="-",(e.TagName||(e.TagName={})).div="div",(e.LinkRel||(e.LinkRel={})).stylesheet="stylesheet",(i=e.LoadScriptElement||(e.LoadScriptElement={})).script="script",i.link="link",i.style="style",(l=e.Selector||(e.Selector={})).lastStylesheet="style:last-of-type",l.lastMetaElement="head > meta:last-of-type",l.webcomponentsjs='script[src*="@webcomponents/webcomponentsjs"]',(e.MetaElementName||(e.MetaElementName={})).loadElementQueryCss="vamtiger-load-element-query-css";var c={showRootHost:/:{1,2}host/gm,dash:new RegExp(e.StringConstant.dash,"g"),space:/\s/g,nonWord:/\W+/g},m={loadScript:n,loadScripts:function(e){return Promise.all(e.map(n))},loadScriptsSequentially:function(e){return new Promise(function(r,o){var a=new Set,s=Promise.resolve();return e.forEach(function(e){s=s.then(function(){return t(void 0,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(n))];case 1:return[2,t.sent()]}})})}).then(function(e){return e.forEach(function(e){return a.add(e)})})}),s=s.then(function(){return r(Array.from(a))})})},loadShadowStylesheet:function(t){var r=t.css,n=t.element,o=n.shadowRoot,a=(n.localName,o&&o.querySelector(e.Selector.lastStylesheet)),s=o&&document.createElement("style");s&&o&&(s.innerHTML=r,a&&a.nextElementSibling?o.insertBefore(s,a.nextElementSibling):o.appendChild(s))},defineCustomElement:function t(r){var n=r.name,o=r.constructor,a=r.ignore,s=e.ErrorMessage.unsupportedFeature,i=e.ErrorMessage.customElementAreadyDefined,l=window.customElements,c=l&&l.define,m=c&&l.get&&l.get(n);if(c&&!m)l.define(n,o);else{if(m)throw new Error(i+": "+n);if(a)throw new Error(s+": Custom Elements - "+n);t({name:n,constructor:o,ignore:!0})}},pause:function(e){var t=e.milliseconds,r=void 0===t?1e3:t;return new Promise(function(e,t){return setTimeout(e,r)})},getElement:function(r){return t(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return r.url?[4,function(r){var n=r.name,o=r.url,a=r.selector;return t(this,void 0,void 0,function(){var t,r,s,i,l,c,m,u,d,p;return __generator(this,function(f){switch(f.label){case 0:return t=e.TagName.div,r=e.ErrorMessage.noElementName,s=e.ErrorMessage.noElementSelector,i=e.ErrorMessage.noTemplateUrl,l=e.ErrorMessage.noTemplateForUrl,c=e.ErrorMessage.noElementForSelector,(u=n&&a&&o)?[4,fetch(o).then(function(e){return e.text()})]:[3,2];case 1:u=f.sent(),f.label=2;case 2:if(d=(m=u)&&document.createElement(t),p=null,!n)throw new Error(r);if(!a)throw new Error(s);if(!o)throw new Error(i);if(!m)throw new Error(l);if(d&&(d.innerHTML=m,p=d.querySelector(a)),!p)throw new Error(c);return p.setAttribute("dataset-name",n),[2,p]}})})}(r)]:[3,2];case 1:return[2,n.sent()];case 2:return[2,function(t){var r=t.name,n=t.template,o=e.TagName.div,a=e.ErrorMessage.noElementName,s=e.ErrorMessage.noTemplate,i=e.ErrorMessage.noElementForSelector,l=r&&n&&document.createElement(o),c=null;if(!r)throw new Error(a);if(!n)throw new Error(s);if(l&&(l.innerHTML=n,c=l.firstElementChild),!c)throw new Error(i);return c.dataset.name=r,c}(r)]}})})}},u=window.VamtigerBrowserMethod;try{u||(window.VamtigerBrowserMethod=m)}catch(e){global.VamtigerBrowserMethod=u}return e.regex=c,e.vamtigerBrowserMethod=m,e}({});
//# sourceMappingURL=vamtiger-browser-method.js.map
