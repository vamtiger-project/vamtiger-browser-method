!function(){"use strict";const e=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};function t(e,t,n,r){return new(n||(n=Promise))(function(o,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function i(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,i)}c((r=r.apply(e,t)).next())})}var n,r,o,a,s,i,c,u,l,d,f,m,h,v,p,w,g,y,b,_,j,k,E,S,M,L,x,C,P;!function(e){e.window="window",e.worker="worker",e.serviceWorker="serviceWorker",e.unknown="unknown"}(n||(n={})),function(e){e.vamtigerBrowserMethod="vamtiger-browser-method"}(r||(r={})),function(e){e.vamtigerBrowserMethodReady="vamtigerBrowserMethodReady"}(o||(o={})),function(e){e[e.webComponent=3e4]="webComponent",e[e.indexDbIsAccessible=100]="indexDbIsAccessible"}(a||(a={})),function(e){e.webComponent="webComponent"}(s||(s={})),function(e){e.vamtigerBrowserMethod="vamtiger-browser-method",e.db="vamtiger-browser-method",e.messageIdWindow="vamtiger-browser-method-window",e.messageIdWorker="vamtiger-browser-method-worker",e.messageIdServiceWorker="vamtiger-browser-method-service-worker",e.messageIdUnknownEnvironment="vamtiger-browser-method-unknown-environment"}(i||(i={})),function(e){e.metaElement="vamtiger-browser-method"}(c||(c={})),function(e){e.nowhere="",e.everyWhere="*"}(u||(u={})),function(e){e.localHost="localhost"}(l||(l={})),function(e){e.vamtigerBrowserMethod="vamtiger-browser-method.js"}(d||(d={})),function(e){e.js="text/javascript",e.babel="text/babel",e.json="application/json",e.jsonld="application/ld+json"}(f||(f={})),function(e){e.type="type"}(m||(m={})),function(e){e.vamtigerElementQuery="vamtigerLoadElementQueryCss",e.elementQueryCssLoaded="elementQueryCssLoaded",e.customElementName="customElementName",e.visible="visible"}(h||(h={})),function(e){e.failedToLoadScript="Failed to load script",e.windowPropertyNotSet="Window property not set",e.unsupportedFeature="Unsupported feature",e.customElementAreadyDefined="Custom element already defined",e.noElementName="No Element Name",e.noTemplateUrl="No Template URL",e.noElementSelector="No Template Selector",e.noTemplateForUrl="No Template for URL",e.noTemplate="No Template",e.noElementForSelector="No Element for Selector",e.noJsonLdParameter='No "jsonLd" property set',e.scriptLoadedButMethodNameNotFound="Failed to load method: Script loaded, but method name not found",e.crossOriginMethodsNotAllowed="Cross-Origin methods are not allowed"}(v||(v={})),function(e){e.nothing="",e.slash="/",e.dash="-",e.pipe="|",e.comma=",",e.backTick="`",e.doubleQuote='"',e.commaSpace=", ",e.space=" ",e.period=".",e.newline="\n",e.semiColon=";"}(p||(p={})),function(e){e.div="div",e.template="template"}(w||(w={})),function(e){e.stylesheet="stylesheet"}(g||(g={})),function(e){e.script="script",e.link="link",e.style="style"}(y||(y={})),function(e){e.lastStylesheet="style:last-of-type",e.lastMetaElement="head > meta:last-of-type",e.webcomponentsjs='script[src*="@webcomponents/webcomponentsjs"]',e.style="style",e.stylesheet=' link[rel="stylesheet"]',e.vamtigerBrowserMethodJsonJs='[src$="vamtiger-browser-method.js.json.js"]',e.worker='[src$="js.json.js"][data-worker]',e.workderDependency="script[data-worker-dependency]",e.vamtigerBrowserMethodJson='[data-name$="vamtiger-browser-method.js.json"]',e.vamtigerBrowserMethod='[data-name$="vamtiger-browser-method.js"]',e.script="script",e.jsonScript='script[type="application/json"]',e.jsonLdScript='script[type="application/ld+json"]',e.a="a",e.linkedDataCaption="[data-linked-data-caption]",e.linkedDataCaptionElement="[data-linked-data-caption-element]",e.jsonLdViewer="vamtiger-json-ld-viewer",e.transpiledJs="[data-transpiled-js]",e.htmlTextMode="html[data-vamtiger-text-mode]",e.customElementNameMetaElement="meta[data-custom-element-name]"}(b||(b={})),function(e){e.vamtigerJsonLdViewer="vamtiger-json-ld-viewer"}(_||(_={})),function(e){e.loadElementQueryCss="vamtiger-load-element-query-css"}(j||(j={})),function(e){e.style="style",e.stylesheet="stylesheet"}(k||(k={})),function(e){e.textMode="vamtiger-text-mode"}(E||(E={})),function(e){e.ignore="ignore",e.removeRedundantScripts="removeRedundantScripts",e.setWorkerSupport="setWorkerSupport",e.saveWebComponentData="saveWebComponentData",e.getWebComponentData="getWebComponentData",e.dequeue="dequeue",e.loadWebComponentData="loadWebComponentData",e.saveSupport="saveSupport",e.saveCustomElementName="saveCustomElementName",e.getTextModeCss="getTextModeCss",e.loadScript="loadScript",e.loadMethod="loadMethod",e.updateMethod="updateMethod",e.getMethodResult="getMethodResult"}(S||(S={})),function(e){e.vamtigerBrowserSupport="vamtiger-browser-support"}(M||(M={})),function(e){e.support="support",e.webComponent="web-component",e.customElementName="custom-element-name"}(L||(L={})),function(e){e.readonly="readonly",e.readwrite="readwrite",e.versionchange="versionchange"}(x||(x={})),function(e){e.webComponent="url",e.support="environment",e.customElementName="name"}(C||(C={})),function(e){e.lodash="https://vamtiger-project.github.io/vamtiger-browser-method/build/lodash.min.js.json.js",e.jsonLdViewer="https://vamtiger-project.github.io/vamtiger-json-ld-viewer/build/vamtiger-json-ld-viewer.js.json.js"}(P||(P={}));var T,O,N,A,D,B,q,I,W,J,R,H,V,U,F,Q,$,G,z,K={showRootHost:/:{1,2}host/gm,dash:new RegExp(p.dash,"g"),space:/\s/g,nonWord:/\W+/g,backTicks:/`/gm,remoteUrl:/^http(s)?/i,jsJsonJs:/\.js\.json\.js$/,jsonJs:/\.json\.js$/,trailingJs:/\.js$/,uppercase:/[A-Z]/,leadingAt:/^@/,email:/^email$/i,trailingHtml:/\.html$/i,textModeElement:new RegExp(Object.keys(_).map(function(e){return _[e]}).join(p.pipe),"i")},Z={redundantScripts:[b.vamtigerBrowserMethodJsonJs,b.vamtigerBrowserMethodJson,b.vamtigerBrowserMethod,b.transpiledJs].concat(Object.keys(P).map(function(e){return'[src="'+P[e]+'"]'})).join(p.comma)},X=function(){try{return postMessage}catch(e){}}();!function(e){var t="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function n(e,n){return e!==t&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(t,r){return e[t]=n?n(t,r):r}}"function"==typeof define&&define.amd?define("tslib",["exports"],function(r){e(n(t,n(r)))}):"object"==typeof module&&"object"==typeof module.exports?e(n(t,n(module.exports))):e(n(t))}(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};T=function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},N=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},A=function(e,t,n,r){var o,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(s=(a<3?o(s):a>3?o(t,n,s):o(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s},D=function(e,t){return function(n,r){t(n,r,e)}},B=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},q=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function i(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,i)}c((r=r.apply(e,t||[])).next())})},I=function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}},W=function(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])},J=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},R=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return s},H=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(R(arguments[t]));return e},V=function(e){return this instanceof V?(this.v=e,this):new V(e)},U=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),a=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise(function(n,r){a.push([e,t,n,r])>1||i(e,t)})})}function i(e,t){try{(n=o[e](t)).value instanceof V?Promise.resolve(n.value.v).then(c,u):l(a[0][2],n)}catch(e){l(a[0][3],e)}var n}function c(e){i("next",e)}function u(e){i("throw",e)}function l(e,t){e(t),a.shift(),a.length&&i(a[0][0],a[0][1])}},F=function(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:V(e[r](t)),done:"return"===r}:o?o(t):t}:o}},Q=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof J?J(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,o,(t=e[n](t)).done,t.value)})}}},$=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},G=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},z=function(e){return e&&e.__esModule?e:{default:e}},e("__extends",T),e("__assign",O),e("__rest",N),e("__decorate",A),e("__param",D),e("__metadata",B),e("__awaiter",q),e("__generator",I),e("__exportStar",W),e("__values",J),e("__read",R),e("__spread",H),e("__await",V),e("__asyncGenerator",U),e("__asyncDelegator",F),e("__asyncValues",Q),e("__makeTemplateObject",$),e("__importStar",G),e("__importDefault",z)});var Y=Object.freeze({});Object.keys(Y).forEach(function(e){self[e]||(self[e]=Y[e])});var ee=p.nothing;var te=self.requestIdleCallback,ne=K.showRootHost,re=p.nothing;function oe(e){var n=e.css,r=e.stylesheetName,o=void 0===r?re:r,a=e.hostName,s=void 0===a?re:a;return t(this,void 0,void 0,function(){var e,t,r,a,i,c,u;return __generator(this,function(l){return e=self._,t=e.camelCase,r=function(e){var t=e.selector,n=void 0===t?ee:t,r=e.properties,o=void 0===r?{}:r,a=e.dataset,s=void 0===a?{}:a,i=e.attributes,c=void 0===i?{}:i,u=o.id,l=document.head,d=l.querySelector(b.lastMetaElement),f=Object.keys(c),m=u&&(window[u]||n&&l.querySelector(n)),h=!m&&document.createElement("meta"),v=m||h;return h&&(Object.assign(h,o),Object.assign(h.dataset,s),d&&d.nextElementSibling?l.insertBefore(h,d.nextElementSibling):l.appendChild(h)),f.forEach(function(e){return!v.hasAttribute(e)&&v.setAttribute(void 0,c[e])}),v}({properties:{id:j.loadElementQueryCss}}),a=t(o),i=r.dataset,c=!i.hasOwnProperty(s)&&s&&n.replace(ne,s)||n,u=self.EQCSS,c&&u&&(u.register(u.parse(c)),a?i[a]=re:s&&(i[s]=re)),[2,!0]})})}var ae,se,ie={presets:["es2015"]},ce=new Set(["number","string",typeof!0]),ue=function(){return[!self._&&P.lodash||""].filter(function(e){return e})},le={root:null,rootMargin:"0px",threshold:(se=1/(ae=5),Array(ae).fill(void 0).map(function(e,t){return t?(t+1)*se:t}))},de={scope:"/"},fe={includeUncontrolled:!0};p.nothing;function me(e){return console.warn(e.message),console.warn(e.stack),""}function he(){try{return self instanceof Window}catch(e){return!1}}function ve(){try{return self instanceof DedicatedWorkerGlobalScope}catch(e){return!1}}function pe(){try{return self instanceof ServiceWorkerGlobalScope}catch(e){return!1}}function we(n){return t(this,void 0,void 0,function(){var t;return __generator(this,function(r){switch(r.label){case 0:return(t=pe())?[4,function(t){var n=t.type,r=e({},fe,{type:n});return self&&self.clients&&self.clients.matchAll&&self.clients.matchAll(r)}(n)]:[3,2];case 1:t=r.sent(),r.label=2;case 2:return[2,t||[]]}})})}var ge=JSON.stringify,ye=new TextEncoder;function be(e){var n=self.VamtigerBrowserMethod,r=n.worker,o=(n.support||{}).textEncoder,a=ge(e),s=o&&ye.encode(a)||a;he()&&r&&r.postMessage(s),ve()&&X&&X(s),pe()&&function(e){var n=e.clients,r=void 0===n?"window":n,o=e.message;t(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,we({type:r})];case 1:return e=t.sent(),Promise.all(e.map(function(e){return e.postMessage(o)})),[2]}})})}({message:s})}var _e=JSON.parse;function je(e){var t=e.script.innerHTML,n=!1;try{_e(t),n=!0}catch(e){console.warn(e),n=!1}return n}var ke=self.requestIdleCallback,Ee=p.dash,Se=i.vamtigerBrowserMethod;function Me(n){return t(this,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return he()?[4,function(n){return t(this,void 0,void 0,function(){var t;return __generator(this,function(r){switch(r.label){case 0:return t=document.head,[4,Le(e({},n,{parent:t}))];case 1:return r.sent(),[2]}})})}(n)]:[3,2];case 1:r.sent(),r.label=2;case 2:return ve()&&function(e){var t=e.selector;be({action:S.removeRedundantScripts,params:{selector:t}})}(n),[2]}})})}function Le(t){return new Promise(function(n,r){ke?ke(function(){return xe(e({},t,{resolve:n,reject:r}))}):setTimeout(function(){return xe(e({},t,{resolve:n,reject:r}))},0)})}function xe(e){var t=e.selector,n=e.parent,r=e.resolve,o=(e.reject,document.head),a=Array.from(n.querySelectorAll(t)),s=a.filter(function(e){var t=e.type;return e.src||!t||t===f.js}),i=a.filter(function(e){return e.type===f.json}).filter(function(e){return je({script:e})}),c=a.filter(function(e){return e.type===f.jsonld}).filter(function(e){return je({script:e})}),u=c.concat(i),l=(new Date).getTime(),d=i.length&&[Se,f.json,l].join(Ee),m=d&&'script[type="'+f.json+'"][data-name="'+d+'"]',h=c.length&&[Se,f.jsonld,l].join(Ee),v=h&&'script[type="'+f.jsonld+'"][data-name="'+h+'"]';s.length&&d&&s.forEach(function(e){return e.dataset.name=d||""}),c.length&&h&&v&&c.forEach(function(e){return e.dataset.name=h||""}),m&&n!==o&&(n.dataset.json=m),v&&n!==o&&(n.dataset.jsonLd=v),a.length&&(n.dataset.removedScripts=(Number(n.dataset.removedScripts||0)+a.length).toString()),u.forEach(function(e){return o.appendChild(e)}),a.forEach(function(e){return n.removeChild(e)}),r&&r()}var Ce=JSON.parse,Pe=v.failedToLoadScript,Te=g.stylesheet,Oe=y.script,Ne=y.link,Ae=y.style,De=K.remoteUrl,Be=K.jsJsonJs,qe=K.jsonJs,Ie=K.trailingJs,We=p.nothing,Je=p.slash;function Re(e){return He(e)}function He(e){var n=this;return new Promise(function(r,o){return t(n,void 0,void 0,function(){function n(){return t(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return O?(s(),v&&i.removeChild(O),y&&y.match(Be)?[4,function(e){var n=e.src,r=e.workerDependency;return t(this,void 0,void 0,function(){var e,t,o,a,s,i,c,u,l;return __generator(this,function(d){switch(d.label){case 0:return e=document.head,t=n.replace(Ie,We).split(Je),o=t[t.length-1],a=n&&o&&'script[type="'+f.json+'"][data-name="'+o+'"]',s=a&&e.querySelector(a),i=s&&s.innerHTML&&Ce(s.innerHTML),c=i&&i.text,u=n.replace(qe,We),l=['script[src="'+n+'"]',a,b.transpiledJs].join(p.comma),u&&c?[4,He({name:u,js:c,workerDependency:r}).catch(Ve)]:[3,3];case 1:return d.sent(),[4,Me({selector:l})];case 2:d.sent(),d.label=3;case 3:return[2]}})})}({src:y,workerDependency:g})]:[3,2]):[3,3];case 1:e.sent(),e.label=2;case 2:r(O),e.label=3;case 3:return[2]}})})}function a(e){s(),console.error(e),o(new Error(""+Pe))}function s(){O&&(O.removeEventListener("load",n),O.removeEventListener("error",a))}var i,c,u,l,d,h,v,w,g,y,_,j,k,E,S,M,L,x,C,P,T,O;return __generator(this,function(o){switch(o.label){case 0:return i=document.head,c=document.body,l=(u=e).js,d=u.name,h=u.jsonld,v=u.removeFromDom,w=u.workerDependency,g=void 0!==w&&w,y=e.src,(j=l||y&&!y.match(De))?[4,function(e){var n=e.url,r=e.js;return t(this,void 0,void 0,function(){var e,t,o,a,s,i,c;return __generator(this,function(u){switch(u.label){case 0:return e=self.fetch,t=self.Babel,o=(t||{transform:void 0}).transform,(s=o)?(i=r)?[3,3]:(c=n)?[4,e(n).then(function(e){return e&&e.text()}).catch(me)]:[3,2]:[3,4];case 1:c=u.sent(),u.label=2;case 2:i=c,u.label=3;case 3:s=i,u.label=4;case 4:return[2,((a=s)&&a.trim()&&o&&o(a,ie)||{code:""}).code||r]}})})}({js:l,url:y})]:[3,2];case 1:j=o.sent(),o.label=2;case 2:return _=j||"",E=(k=e).css,S=k.name,M=e.href,L=e.json,x=e.hasOwnProperty("src")||e.hasOwnProperty("href"),C=(l||L||y)&&Oe||E&&Ae||M&&Ne,P=y&&'script[src="'+y+'"]'||M&&'link[href="'+M+'"]'||l&&d&&'script[data-name="'+d+'"]'||h&&d&&'script[data-name="'+d+'"][type="'+f.jsonld+'"]'||E&&S&&'style[data-name="'+S+'"]',T=i.querySelector(P)||c.querySelector(P),(O=P&&C&&document.createElement(C))instanceof HTMLScriptElement?(!_&&y?O.src=y:(L||_||l)&&(O.innerHTML=L||_||l,O.dataset.name=d||y,h?(O.setAttribute(m.type,f.jsonld),O.dataset.jsonLd=O.dataset.name):L?O.setAttribute(m.type,f.json):_&&(O.dataset.transpiledJs=We)),[3,6]):[3,3];case 3:return O instanceof HTMLLinkElement?(O.rel=Te,O.href=M,[3,6]):[3,4];case 4:return O instanceof HTMLStyleElement?(O.innerHTML=E,O.dataset.name=S,[4,function(e){var n=this;return new Promise(function(r,o){return t(n,void 0,void 0,function(){return __generator(this,function(t){return te?te(function(){return oe(e).then(r).catch(o)}):setTimeout(function(){return oe(e).then(r).catch(o)},0),[2]})})})}({css:E,stylesheetName:S})]):[3,6];case 5:o.sent(),o.label=6;case 6:return T?r(T):O&&(O.addEventListener("load",n),O.addEventListener("error",a),i.appendChild(O),g&&(O.dataset.workerDependency=We),!_&&x||n()),[2]}})})})}function Ve(e){console.warn(e.name),console.warn(e.message),console.warn(e.stack)}var Ue=M.vamtigerBrowserSupport;function Fe(e){return t(this,void 0,void 0,function(){var t,n,r,o,a;return __generator(this,function(s){switch(s.label){case 0:return t=e.storeName,e.keyPath,n=e.mode,[4,new Promise(function(e,t){var n=indexedDB.open(Ue,1);n.addEventListener("error",t),n.addEventListener("upgradeneeded",function(){return e={db:n.result},t=e.db,void Object.keys(C).forEach(function(e){return!t.objectStoreNames.contains(e)&&t.createObjectStore(L[e],{keyPath:C[e]})});var e,t}),n.addEventListener("success",function(){return e(n.result)})})];case 1:return r=s.sent(),o=r&&r.transaction&&r.transaction(t,n),a=o&&o.objectStore&&o.objectStore(t),[2,{db:r,transaction:o,store:a}]}})})}var Qe=x.readwrite;function $e(n){var r=n.storeName,o=n.keyPath,a=n.data,s=n.messageId,i=n.successAction;return t(this,void 0,void 0,function(){var t,n;return __generator(this,function(c){switch(c.label){case 0:return[4,Fe({storeName:r,keyPath:o,mode:Qe})];case 1:return t=c.sent().store,(n=t.put(a)).addEventListener("error",Ge),n.addEventListener("success",function(){return function(t){var n=t.action,r=t.data,o=n&&{action:n,params:e({},t,r)};o&&be(o)}({messageId:s,key:o,action:i,data:a})}),[2]}})})}function Ge(e){throw console.error(e),e}var ze=x.readonly;function Ke(e){var n=e.storeName,r=e.keyPath,o=e.key;return t(this,void 0,Promise,function(){var e=this;return __generator(this,function(a){return[2,new Promise(function(a,s){return t(e,void 0,void 0,function(){var e,t;return __generator(this,function(i){switch(i.label){case 0:return[4,Fe({storeName:n,keyPath:r,mode:ze})];case 1:return e=i.sent().store,(t=o&&e.get(o)||e.getAll()).addEventListener("error",s),t.addEventListener("success",function(){return a(t.result)}),[2]}})})})]})})}function Ze(e){return t(this,void 0,void 0,function(){return __generator(this,function(t){return[2,new Promise(function(t,n){var r=self.requestIdleCallback;r?r(function(){return he()&&Xe(e).then(t).catch(n)}):setTimeout(function(){return he()&&Xe(e).then(t).catch(n)},0)})]})})}function Xe(e){return t(this,void 0,void 0,function(){var n=this;return __generator(this,function(r){return[2,new Promise(function(r,o){return t(n,void 0,void 0,function(){var t,n,a,s,i,c,u,l;return __generator(this,function(d){switch(d.label){case 0:t=document.head,a=(n=e).name,s=n.removeExisting,c=(i=a&&s&&'[data-name="'+a+'"]')&&t.querySelector(i),u=c&&c.innerHTML===(e.css||e.js),d.label=1;case 1:return d.trys.push([1,4,,5]),!u?[4,Re(e)]:[3,3];case 2:d.sent(),d.label=3;case 3:return r(),[3,5];case 4:return l=d.sent(),o(l),[3,5];case 5:return[2]}})})})]})})}var Ye=C.customElementName,et=L.customElementName,tt=p.comma,nt=p.semiColon,rt=p.nothing,ot=K.textModeElement;function at(){var e,n,r,o,a,s,i,c,u;he()&&(e=self.VamtigerBrowserMethod,n=e.support,r=e.workerSupport,o=e.textMode,a=r&&r.indexedDbIsAccessible&&{action:S.getTextModeCss,params:{}},o&&a?be(a):o&&n&&n.indexedDbIsAccessible?function(){t(this,void 0,void 0,function(){var e,t,n,r;return __generator(this,function(o){switch(o.label){case 0:return[4,Ke({storeName:et,keyPath:Ye})];case 1:return e=o.sent()||[],t=e.map(function(e){var t=e.name;return t}),n=st(t),(r=n&&{name:E.textMode,css:n,removeExisting:!0})&&Ze(r),[2]}})})}():(s=self.VamtigerBrowserMethod.metaElement,i=s&&s.querySelector(b.customElementNameMetaElement),c=st(i&&Array.from(i.children).map(function(e){var t=e.dataset;return t.name||""}).filter(function(e){return e})||[]),(u=c&&{name:E.textMode,css:c,removeExisting:!0})&&Ze(u))),ve()&&function(){t(this,void 0,void 0,function(){var e,t,n,r;return __generator(this,function(o){switch(o.label){case 0:return[4,Ke({storeName:et,keyPath:Ye})];case 1:return e=o.sent()||[],t=e.map(function(e){var t=e.name;return t}),n=st(t),(r=n&&{action:S.loadScript,params:{name:E.textMode,css:n,removeExisting:!0}})&&be(r),[2]}})})}()}function st(e){var t=e.filter(function(e){return!e.match(ot)}).map(function(e){return b.htmlTextMode+" "+e}).join(tt),n=t&&["display: none"].join(nt);return t&&n&&[t,"{",n,"}"].join(rt)}var it=C.customElementName,ct=L.customElementName;function ut(n){he()&&function(n){var r=self.VamtigerBrowserMethod,o=r.support,a=r.workerSupport,s=a&&a.indexedDbIsAccessible&&{action:S.saveCustomElementName,params:n};s?be(s):o&&o.indexedDbIsAccessible?function(n){t(this,void 0,void 0,function(){var t,r;return __generator(this,function(o){switch(o.label){case 0:return t=n.name,r=t&&{storeName:ct,keyPath:it,data:e({name:t},n)},r?[4,$e(r)]:[3,2];case 1:o.sent(),o.label=2;case 2:return at(),[2]}})})}(n):(i=n.name,c=self.VamtigerBrowserMethod.metaElement,u=c&&c.querySelector(b.customElementNameMetaElement),d=!((l=u&&'meta[data-name="'+i+'"]')&&u&&u.querySelector(l))&&document.createElement("meta"),u&&d&&(d.dataset.name=i,u.appendChild(d),at()));var i,c,u,l,d}(n),ve()&&function(t){!function(t){var n=t.name,r=n&&{storeName:ct,keyPath:it,data:e({name:n},t),successAction:S.getTextModeCss};r&&$e(r)}(t)}(n)}var lt=v.unsupportedFeature;var dt=p.dash;function ft(e){return new Promise(function(t,n){var r=self.requestIdleCallback;r?r(function(){return mt(e,t).catch(n)}):setTimeout(function(){return mt(e,t).catch(n)},0)})}function mt(e,n){return t(this,void 0,void 0,function(){var t,r,o,a,s;return __generator(this,function(i){switch(i.label){case 0:return t=e.container,r=e.name,o=Array.from(t.content.querySelectorAll(b.style)).map(function(e,t){return{name:[r,k.style,t++].join(dt),css:e.innerHTML}}),a=Array.from(t.content.querySelectorAll(b.stylesheet)).map(function(e,t){return{name:[r,k.stylesheet,t++].join(dt),href:e.href}}),[4,Promise.all(o.map(Re).concat(a.map(Re)))];case 1:return s=i.sent(),n(s),[2]}})})}var ht=v.noElementName,vt=v.noTemplate,pt=v.noElementForSelector;var wt=v.noElementName,gt=v.noElementSelector,yt=v.noTemplateUrl,bt=v.noTemplateForUrl,_t=v.noElementForSelector;var jt=b.script;function kt(n,r){return t(this,void 0,void 0,function(){var o;return __generator(this,function(a){switch(a.label){case 0:return n.url?[4,function(n){return t(this,void 0,void 0,function(){var t,r,o,a,s,i,c,u;return __generator(this,function(l){switch(l.label){case 0:return t=n.name,r=n.url,o=n.selector,a=n.loadStylesheets,document.head,(i=t&&o&&r)?[4,fetch(r).then(function(e){return e.text()})]:[3,2];case 1:i=l.sent(),l.label=2;case 2:if(c=(s=i)&&document.createElement(w.template),u=null,!t)throw new Error(wt);if(!o)throw new Error(gt);if(!r)throw new Error(yt);if(!s)throw new Error(bt);return c?(c.innerHTML=s,u=c.content.querySelector(o),a&&u?[4,ft(e({},n,{container:c}))]:[3,4]):[3,5];case 3:l.sent(),l.label=4;case 4:l.label=5;case 5:if(!u)throw new Error(_t);return u.setAttribute("dataset-name",t),[2,u]}})})}(n)]:[3,2];case 1:return o=a.sent(),[3,4];case 2:return[4,function(n){return t(this,void 0,void 0,function(){var t,r,o,a,s,i;return __generator(this,function(c){switch(c.label){case 0:if(t=n.name,r=n.template,o=n.loadStylesheets,a=n.selector,s=t&&r&&document.createElement(w.template),i=null,!t)throw new Error(ht);if(!r)throw new Error(vt);return s?(s.innerHTML=r,i=a&&s.content.firstElementChild&&s.content.firstElementChild.querySelector(a)||s.content.firstElementChild,o&&i?[4,ft(e({},n,{container:s}))]:[3,2]):[3,3];case 1:c.sent(),c.label=2;case 2:c.label=3;case 3:if(!i)throw new Error(pt);return i.dataset.name=t,[2,i]}})})}(n)];case 3:o=a.sent(),a.label=4;case 4:return o?[4,Le({selector:jt,parent:o})]:[3,6];case 5:a.sent(),a.label=6;case 6:return r(o),[2]}})})}var Et=a.webComponent;function St(e){var t,n=e.key,r={resolve:e.resolve,reject:e.reject},o=self.VamtigerBrowserMethod.messageQueue;!o.has(n)&&o.set(n,new Set),(t=o.get(n))&&t.add(r),setTimeout(function(){return function(e){var t=e.key,n=e.queueEntry,r=self.VamtigerBrowserMethod.messageQueue,o=r.get(t);o&&(o.has(n)&&o.delete(n),!o.size&&r.delete(t))}({key:n,queueEntry:r})},Et)}function Mt(e){var t=e.key,n=e.data,r=self.VamtigerBrowserMethod.messageQueue.get(t)||new Set;Array.from(r).forEach(function(e){e.resolve(n),r.delete(e)})}var Lt=S.getWebComponentData,xt=JSON.parse;function Ct(e){var n,r,o,a,s,i,c,u,l=self.VamtigerBrowserMethod,d=l.support,m=l.workerSupport,h=l.worker;if(he()){if(h&&m&&m.indexedDbIsAccessible)return function(e){var n=e.key;return t(this,void 0,void 0,function(){return __generator(this,function(e){return be({action:Lt,params:{key:n}}),[2]})})}(e);h&&d&&d.indexedDbIsAccessible?function(e){var n=e.key;t(this,void 0,void 0,function(){var e,t;return __generator(this,function(r){switch(r.label){case 0:return[4,Pt({key:n})];case 1:return e=r.sent(),(t=e&&{key:n,data:e})&&Mt(t),[2]}})})}(e):(n=e.key,r=document.head,o='script[data-json-ld="'+n+'"][type="'+f.jsonld+'"]',a='script[data-json-ld="'+n+'"][type="'+f.json+'"]',s=Array.from(r.querySelectorAll(o)),i=r.querySelector(a),c=s.length&&{jsonLd:s.map(function(e){var t=e.innerHTML;return t&&xt(t)}),json:i&&i.innerHTML&&xt(i.innerHTML)||{}},(u=c&&{key:n,data:c})&&Mt(u))}else if(ve())return function(e){var n=e.key;return t(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,Pt({key:n})];case 1:return e=t.sent(),[2,e&&e.jsonLd&&e.jsonLd.length&&{action:S.dequeue,params:{key:n,data:{jsonLd:e.jsonLd,json:e.json}}}]}})})}(e)}function Pt(e){var n=e.key;return t(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,Ke({storeName:L.webComponent,keyPath:C.webComponent,key:n})];case 1:return[2,e.sent()]}})})}var Tt=L.webComponent,Ot=C.webComponent;function Nt(e){return he()?function(e){return t(this,void 0,void 0,function(){var t,n,r,o,a,s,i;return __generator(this,function(c){switch(c.label){case 0:return t=self.VamtigerBrowserMethod,n=t.support,r=t.workerSupport,o=e.url,a=Bt({url:o}),s=Dt(e),i=s&&{action:S.saveWebComponentData,params:s},r&&r.indexedDbIsAccessible?(i&&be(i),[3,5]):[3,1];case 1:return n&&n.indexedDbIsAccessible?[4,At(e)]:[3,5];case 2:return c.sent(),[4,Ct({key:o})];case 3:return c.sent(),[4,Me({selector:a})];case 4:c.sent(),c.label=5;case 5:return[2]}})})}(e):ve()?function(e){return t(this,void 0,void 0,function(){var t,n,r,o;return __generator(this,function(a){switch(a.label){case 0:return t=e.url,n=Bt({url:t}),[4,At(e)];case 1:return a.sent(),r={action:S.getWebComponentData,params:{key:t}},o={action:S.removeRedundantScripts,params:{selector:n}},be(r),be(o),[2]}})})}(e):void 0}function At(e){return t(this,void 0,void 0,function(){var t,n;return __generator(this,function(r){switch(r.label){case 0:return t=Dt(e),n=t&&{storeName:Tt,keyPath:Ot,data:t,successAction:S.getWebComponentData},n?[4,$e(n)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}function Dt(e){var t=e.url,n=e.created,r=void 0===n?(new Date).getTime():n,o=e.json,a=e.jsonLd;return t&&a&&{url:t,created:r,jsonLd:a,json:o}}function Bt(e){return'script[type="application/json"][data-json-ld="'+e.url+'"]'}var qt=JSON.parse,It=JSON.stringify,Wt={jsonLd:[],json:{}};function Jt(e){return t(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,he()&&function(e){var n=e.url,r=e.loadJsonJsonLd;return t(this,void 0,void 0,function(){var e,o,a,s,i,c,u,l,d,m,h,v;return __generator(this,function(p){switch(p.label){case 0:return e=self.VamtigerBrowserMethod,o=e.worker,a=document.head,s='script[type="application/ld+json"][data-json-ld="'+n+'"]',[4,function(e){var n=e.url;return t(this,void 0,void 0,function(){var e,t,r,o,a,s,i,c,u,l,d,f,m;return __generator(this,function(h){switch(h.label){case 0:return h.trys.push([0,5,,6]),e=document.head,t=b.script+'[src="'+n+'"]',r='script[type="application/ld+json"][data-json-ld="'+n+'"]',o='script[type="application/json"][data-json-ld="'+n+'"]',a=e.querySelector(t),(s=!a)?[4,Re({src:n})]:[3,2];case 1:s=h.sent(),h.label=2;case 2:return(i=s)?[4,Promise.all([Array.from(e.querySelectorAll(r)).map(function(e){var t=e.innerHTML;return t}),e.querySelector(o)])]:[3,4];case 3:i=h.sent(),h.label=4;case 4:return u=(c=i||[void 0,void 0])[0],l=c[1],d=u&&u.map(function(e){return qt(e)}),f=l&&qt(l.innerHTML)||{},[2,{jsonLd:d,json:f}];case 5:return m=h.sent(),console.error(m),[2,Wt];case 6:return[2]}})})}({url:n})];case 1:return i=p.sent(),c=i.jsonLd,u=i.json,(d=r&&u&&Array.isArray(u.jsonLd))?[4,Promise.all(u.jsonLd.map(Rt))]:[3,3];case 2:d=p.sent(),p.label=3;case 3:return l=d,m=c&&{url:n,created:(new Date).getTime(),jsonLd:c,json:u},h=a.querySelector(s),v={selector:'[type="'+f.json+'"][data-name="'+n+'"]'},l?(l.forEach(function(e){return e.forEach(function(e){var t=e.index,n=e.key,r=e.jsonLd;c&&Array.isArray(c)&&c[t]&&n&&!0===c[t][n]&&r&&(c[t][n]=r)})}),h&&c?(a.removeChild(h),[4,Promise.all(c.map(function(e){return Re({name:n,json:It(e),jsonld:!0})}))]):[3,6]):[3,6];case 4:return p.sent(),[4,Me(v)];case 5:p.sent(),p.label=6;case 6:return o&&m&&Nt(m),[2]}})})}(e)];case 1:return[2,n.sent()]}})})}function Rt(n){var r=n.index,o=n.fields;return t(this,void 0,void 0,function(){var n;return __generator(this,function(a){switch(a.label){case 0:return n=Object.keys(o),[4,Promise.all(n.map(function(n){return function(e){var n=e.urls,r=e.key;return t(this,void 0,void 0,function(){var e,t,o,a;return __generator(this,function(s){switch(s.label){case 0:return e=!1,t=Array.isArray(n)&&n.filter(function(e){return"string"==typeof e})||[],[4,Promise.all(t.map(function(t){return Ht({jsonLd:t,loadJsonJsonLd:e})}))];case 1:return o=s.sent(),a={key:r,jsonLd:[]},o.forEach(function(e){var t=e.jsonLd;return t&&t.forEach(function(e){return e&&a.jsonLd.push(e)})}),[2,a]}})})}({key:n,urls:o[n]}).then(function(t){return e({index:r},t)})}))];case 1:return[2,a.sent()]}})})}function Ht(e){var n=this,r=e.jsonLd,o=e.loadJsonJsonLd,a=void 0===o||o;return new Promise(function(e,o){return t(n,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:St({key:r,resolve:e,reject:o}),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Jt({url:r,loadJsonJsonLd:a})];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),console.error(t),[3,4];case 4:return Ct({key:r}),[2]}})})})}function Vt(){return document.documentElement.dataset.hasOwnProperty("vamtigerTextMode")}var Ut,Ft=P.jsonLdViewer;function Qt(e){return t(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return Vt()?[4,function(e){var n=e.jsonLd;return t(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,Re({name:Ft,src:Ft})];case 1:return t.sent(),e=function(){var e=document.body,t=Ut||document.createElement("vamtiger-json-ld-viewer");Ut||(Ut=t,e.appendChild(t));return t}(),e.dataset.jsonLd=n,[2]}})})}(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})}var $t=v.noJsonLdParameter;function Gt(){return ve()&&n.worker||pe()&&n.serviceWorker||he()&&n.window||n.unknown}var zt=JSON.parse,Kt={action:S.ignore,params:{}},Zt=new TextDecoder;function Xt(t){var n;try{n=function(t){var n=t.data,r=t.ports,o="string"==typeof n&&zt(n)||n instanceof Uint8Array&&zt(Zt.decode(n));"string"==typeof o.params&&(o.params=e({},zt(o.params),{ports:r}));return o}(t)||Kt}catch(e){n=Kt}return n}var Yt=L.support;function en(e){return t(this,void 0,void 0,function(){return __generator(this,function(t){return he()&&function(e){var t=self.VamtigerBrowserMethod,r=e.environment,o=__rest(e,["environment"]),a=t.workerSupport,s=a&&a.indexedDbIsAccessible&&{action:S.saveSupport,params:e};r===n.serviceWorker?t.serviceWorkerSupport=o:r===n.worker&&(t.workerSupport=o);s?be(s):tn(e)}(e),(ve()||pe())&&function(e){tn(e)}(e),[2]})})}function tn(t){var n=t.environment,r=n&&{storeName:Yt,keyPath:C.support,data:e({environment:n},t)};r&&$e(r)}var nn=r.vamtigerBrowserMethod;function rn(){return t(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,caches.open(nn).catch(on)];case 1:return[2,e.sent()||void 0]}})})}function on(e){console.warn(e.message)}var an=C.support,sn=L.support;function cn(){return t(this,void 0,void 0,function(){var e,r,o,s,i,c,u;return __generator(this,function(l){switch(l.label){case 0:return e=self.VamtigerBrowserMethod,r=self.localStorage,o=self.indexedDB,[4,Promise.all([function(){var e=this;return new Promise(function(r,o){return t(e,void 0,void 0,function(){var e,t,o;return __generator(this,function(s){switch(s.label){case 0:return e=!1,t=!1,o=n.worker,setTimeout(function(){return!t&&r(e)},a.indexDbIsAccessible),[4,Ke({storeName:sn,keyPath:an,key:o})];case 1:return s.sent(),t=!0,r(e=!0),[2]}})})})}(),rn()])];case 1:return s=l.sent(),i=s[0],c=s[1],u={cache:Boolean(c),localStorage:Boolean(r),indexedDb:Boolean(o),indexedDbIsAccessible:i,worker:self.hasOwnProperty("Worker"),sharedWorker:self.hasOwnProperty("SharedWorker"),textEncoder:self.hasOwnProperty("TextEncoder"),textDecoder:self.hasOwnProperty("TextDecoder")},e.support=u,ve()&&function(){var e=self.VamtigerBrowserMethod;be({action:S.setWorkerSupport,params:e.support||{}})}(),[2]}})})}var un="Message Ignored";var ln=self.requestIdleCallback,dn=(p.nothing,p.slash),fn={type:f.js};function mn(n){return t(this,void 0,void 0,function(){return __generator(this,function(r){return[2,new Promise(function(r,o){he()?ln?ln(function(){return hn(e({},n,{resolve:r,reject:o}))}):setTimeout(function(){return hn(e({},n,{resolve:r,reject:o}))},0):ve()&&function(e){var n=e.relativeUrl,r=e.name;return t(this,void 0,void 0,function(){var e,t,o,a,s,i,c,u,l,d,f,m,h,v,p;return __generator(this,function(w){switch(w.label){case 0:return e=self.VamtigerBrowserMethod,t=self.importScripts,o=URL.createObjectURL,a=e.method,(i=!a.hasOwnProperty(r))?[4,rn()]:[3,2];case 1:i=w.sent(),w.label=2;case 2:return c=(s=i)&&new Request(n),(l=s&&c)?[4,s.match(c)]:[3,4];case 3:l=w.sent(),w.label=4;case 4:return(f=u=l)?[4,u.text()]:[3,6];case 5:f=w.sent(),w.label=6;case 6:return m=(d=f)&&new Blob([d],fn),h=m&&o(m),h&&t?[4,t(h)]:[3,8];case 7:w.sent(),w.label=8;case 8:return v={action:S.dequeue,params:{key:n,data:{}}},(p=a.hasOwnProperty(r)&&{action:S.updateMethod,params:{name:r}})&&be(p),[2,v]}})})}(n).then(r).catch(o)})]})})}function hn(e){var n=e.relativeUrl,r=e.name,o=e.resolve,a=e.reject;return t(this,void 0,void 0,function(){var e,t,s,i,c,u,l,d,f,m,h,p;return __generator(this,function(w){switch(w.label){case 0:return e=void 0,t=location.origin,s=[t,n].join(dn),i=self.VamtigerBrowserMethod,c=self._,u=i.worker,l=i.workerSupport,d=c.get,[4,Re({src:s}).catch(function(t){return e=t})];case 1:return f=w.sent(),m=d(i.method,r),h=l&&l.cache&&u&&"function"==typeof m&&{action:S.loadMethod,params:{relativeUrl:s,name:r}},p=h&&{key:s,resolve:o,reject:a},f&&(f.dataset.vamtigerBrowserMethodLoadedMethod=r),e?a(e):m?p&&h?(St(p),be(h)):o():a(new Error(v.scriptLoadedButMethodNameNotFound+" - "+r)),[2]}})})}var vn=self.requestIdleCallback;function pn(n){return new Promise(function(r,o){he()?vn?vn(function(){return wn(e({},n,{resolve:r,reject:o}))}):setTimeout(function(){return wn(e({},n,{resolve:r,reject:o}))},0):ve()&&function(e){var n=e.messageId,r=void 0===n?"":n,o=e.name,a=e.params;return t(this,void 0,void 0,function(){var e,t,n,s,i;return __generator(this,function(c){switch(c.label){case 0:return e=self.VamtigerBrowserMethod,t=e.method,(n=t[o])?[4,n(a)]:[3,2];case 1:return i=c.sent(),[3,3];case 2:i="No method named '"+o+"'",c.label=3;case 3:return s=i,[2,{action:S.dequeue,params:{key:r,data:s}}]}})})}(n).then(r).then(o)})}function wn(e){var n,r,o=e.messageId,a=void 0===o?(n=he()&&i.messageIdWindow||ve()&&i.messageIdWorker||pe()&&i.messageIdServiceWorker||i.messageIdUnknownEnvironment,r=(new Date).getTime(),n&&n+"-"+r):o,s=e.name,c=e.params,u=e.resolve,l=e.reject;return t(this,void 0,void 0,function(){var e,t;return __generator(this,function(n){return e={key:a,resolve:u,reject:l},t={action:S.getMethodResult,params:{name:s,params:c,messageId:a}},St(e),be(t),[2]})})}var gn,yn=self.requestIdleCallback;function bn(e){var n=e.name;return t(this,void 0,void 0,function(){var e,t;return __generator(this,function(r){return e=self.VamtigerBrowserMethod,t=e.method,t[n]&&(t[n]=function(e){return pn({name:n,params:e})}),[2]})})}var _n=((gn={})[S.ignore]=function(e){console.log(un),console.warn(e)},gn[S.removeRedundantScripts]=Me,gn[S.setWorkerSupport]=function(r){return t(this,void 0,void 0,function(){var t,o,a;return __generator(this,function(s){return t=self.VamtigerBrowserMethod,o=t.support,a=t.environment,t.workerSupport=r,o&&en(e({environment:a},o)),r&&en(e({environment:n.worker},r)),[2]})})},gn[S.saveWebComponentData]=Nt,gn[S.getWebComponentData]=Ct,gn[S.dequeue]=Mt,gn[S.loadWebComponentData]=Jt,gn[S.saveSupport]=en,gn[S.saveCustomElementName]=ut,gn[S.getTextModeCss]=at,gn[S.loadScript]=Ze,gn[S.loadMethod]=mn,gn[S.updateMethod]=function(e){he()&&(yn?yn(function(){return bn(e)}):setTimeout(function(){return bn(e)},0))},gn[S.getMethodResult]=pn,gn);function jn(e){return t(this,void 0,void 0,function(){var t,n,r,o;return __generator(this,function(a){switch(a.label){case 0:return t=Xt(e)||{action:S.ignore,params:{}},n=t.action,r=t.params,[4,(0,_n[n])(r)];case 1:return(o=a.sent())&&be(o),[2]}})})}var kn=d.vamtigerBrowserMethod;function En(){return t(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return n=window.location,(e=l.localHost===n.hostname)?[4,fetch(kn).then(function(e){return e.ok}).catch(function(e){return""})]:[3,2];case 1:e=t.sent(),t.label=2;case 2:return[2,e&&kn||""]}var n})})}var Sn={type:f.js},Mn=p.newline;var Ln,xn=JSON.stringify;function Cn(){return t(this,void 0,void 0,function(){var e,t,n;return __generator(this,function(r){switch(r.label){case 0:return[4,En()];case 1:return e=r.sent(),o=document.head,a=URL.createObjectURL,s=o.querySelector(b.vamtigerBrowserMethod),i=(Array.from(o.querySelectorAll(b.workderDependency))||[]).map(function(e){return e.innerHTML}).filter(function(e){return e}).concat([s&&s.innerHTML||""]).filter(function(e){return e}).join(Mn.repeat(2)),c=i&&i.length&&new Blob([i],Sn),t=c&&a&&a(c),(n=t&&new Worker(e||t))&&(n.addEventListener("message",jn),n.addEventListener("error",Pn)),[2,Ln=Ln||n]}var o,a,s,i,c})})}function Pn(e){Object.keys(e).forEach(function(t){return console.error("string"==typeof e[t]||xn(e[t]))})}var Tn=self.IntersectionObserver,On=self.requestIdleCallback,Nn=p.nothing,An=Tn&&new Tn(function(e,t){e.forEach(function(e){On?On(function(){return Dn(e)}):setTimeout(function(){return Dn(e)},0)})},le);function Dn(e){var t=e,n=t.isIntersecting,r=t.intersectionRatio,o=t.target.dataset;n?o[h.visible]=r.toString():o[h.visible]&&(o[h.visible]=Nn)}var Bn=p.slash,qn=K.trailingHtml;var In=p.slash,Wn=p.nothing,Jn=d.vamtigerBrowserMethod;function Rn(){return t(this,void 0,void 0,function(){var n;return __generator(this,function(r){switch(r.label){case 0:return(n=he())?[4,function(){return t(this,void 0,void 0,function(){var t,n,r,o,a,s,i,c,u;return __generator(this,function(l){switch(l.label){case 0:return t=navigator.serviceWorker,n=location.origin,r=[n,Jn].join(In),d=location.pathname,f=d.match(qn)&&d.split(Bn),o=f&&f.slice(0,f.length-1).join(Bn)||d,a=[o===In?"":o,Jn].join(Wn),s=e({},de,{scope:o}),(c=t)?[4,t.register(r,de).catch(Hn)]:[3,2];case 1:c=l.sent(),l.label=2;case 2:return(u=!(i=c)&&a!==r&&t)?[4,t.register(a,s).catch(Hn)]:[3,4];case 3:u=l.sent(),l.label=4;case 4:return[2,i||u]}var d,f})})}()]:[3,2];case 1:n=r.sent(),r.label=2;case 2:return[2,n||void 0]}})})}function Hn(e){console.warn(e.message)}var Vn=p.nothing;function Un(){var e;he()&&((e=navigator.serviceWorker)&&e.addEventListener("message",jn),function(){t(this,void 0,void 0,function(){var e,t,n,r,o,a,s,i,u,l,d;return __generator(this,function(f){switch(f.label){case 0:return e=navigator.serviceWorker,t=document.head,n=self.VamtigerBrowserMethod,r=n.metaElement,o=void 0===r?document.createElement("meta"):r,a=document.createElement("meta"),s=Vt(),[4,Rn()];case 1:return i=f.sent(),u=new MessageChannel,l=u.port1,a.dataset[h.customElementName]=Vn,o.id=c.metaElement,o.appendChild(a),t.appendChild(o),n.metaElement=o,d=n,[4,Cn()];case 2:return d.worker=f.sent(),n.textMode=s,n.intersectionObserver=An,n.serviceWorkerRegistration=i,n.serviceWorker=e&&e.controller||void 0,n.messageChannel=u,l.addEventListener("message",jn),[2]}})})}())}function Fn(){ve()&&(addEventListener("message",jn),Me({selector:Z.redundantScripts}))}var Qn,$n,Gn=self.document,zn=p.nothing;Gn&&(Qn=Gn.createElement("template"),$n=["<figcaption data-linked-data-caption></figcaption> <span data-linked-data-caption-element></span> <a></a>"].join(zn),Qn.innerHTML=$n);var Kn=function(e){var t=e.selector,n=e.attributes,r=void 0===n?{}:n,o=e.properties,a=void 0===o?{}:o,s=Object.keys(r),i=Qn.content.querySelector(t),c=i&&i.cloneNode(!0);return c&&(Object.assign(c,a),s.forEach(function(e){return r[e]&&c.setAttribute(e,r[e]||"")})),c},Zn=p.nothing,Xn=p.slash;function Yn(e){var t=e.href,n=e.text;return t&&n&&'<a href="'+t+'" target="_blank">'+n+"</a>"||""}var er=self.requestIdleCallback,tr=p.nothing,nr=p.slash,rr=K.leadingAt,or=K.remoteUrl,ar=K.email;function sr(e){var n=e.jsonLd;return t(this,void 0,void 0,function(){var e,r,o,a;return __generator(this,function(s){switch(s.label){case 0:return e=function(e){var t=e.jsonLd,n=self._.startCase,r=t["@context"],o=void 0===r?void 0:r,a=t["@type"],s=void 0===a?void 0:a,i=o&&s&&[o,s].join(nr),c=s&&n(s),u=Yn({href:i,text:c});u&&(t["@type"]=u);return t}({jsonLd:n}),r=Object.keys(e),[4,Promise.all(r.map(function(n){return function(e){var n=e.key,r=e.value;return t(this,void 0,void 0,function(){var e,t,o,a,s,i,c;return __generator(this,function(u){switch(u.label){case 0:return e=self._,t=e.startCase,o=ce.has(typeof r)&&r,a=Array.isArray(r)&&r||"object"==typeof r&&[r],(i=a)?[4,Promise.all(a.map(function(e){return sr({jsonLd:e})}))]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return s=i,c=[[t(n.replace(rr,tr)),o&&(n.match(ar)&&(l={href:o.toString(),text:o.toString()},d=l.href,f=l.text,d&&f&&'<a href="mailto:'+d+'">'+f+"</a>"||"")||function(e){var t=e.toString().trim(),n=t.match(or)&&t,r=n&&t&&t.split(nr).pop();return n&&r&&Yn({href:n,text:r})||t}(o))||tr]],s&&s.forEach(function(e){return e.forEach(function(e){return c.push(e)})}),[2,c]}var l,d,f})})}({key:n,value:e[n]})}))];case 1:return o=s.sent(),a=[],o.forEach(function(e){return e.forEach(function(e){return a.push(e)})}),[2,a]}})})}function ir(){return t(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return he()?[4,function(){return t(this,void 0,void 0,function(){var e,t;return __generator(this,function(n){switch(n.label){case 0:return e=!0,t=ue(),[4,Promise.all(t.map(function(t){return Re({name:t,src:t,workerDependency:e})}))];case 1:return n.sent(),[2]}})})}()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})}var cr={bubbles:!0};function ur(t){var n,r,o,a;he()&&(r=(n=t).eventName,o=n.detail,a=new CustomEvent(r,e({},cr,{detail:void 0===o?{}:o})),self.dispatchEvent(a))}function lr(e){console.warn(e.message)}function dr(e){console.warn(e.message)}function fr(e){var n=e.request;return t(this,void 0,void 0,function(){var e,r,o;return __generator(this,function(a){switch(a.label){case 0:return[4,rn()];case 1:return e=a.sent(),(o=e)?[4,e.match(n)]:[3,3];case 2:o=a.sent(),a.label=3;case 3:return(r=o)&&function(e){var n=e.request;t(this,void 0,void 0,function(){var e,t,r;return __generator(this,function(o){switch(o.label){case 0:return[4,rn()];case 1:return e=o.sent(),[4,fetch(n).catch(dr)];case 2:return t=o.sent(),r=t&&(200===t.status||"opaque"===t.type),e&&r&&t?[4,e.put(n,t).catch(dr)]:[3,4];case 3:o.sent(),o.label=4;case 4:return[2]}})})}({request:n}),[2,r]}})})}function mr(e){return t(this,void 0,void 0,function(){var n,r;return __generator(this,function(o){switch(o.label){case 0:return[4,fr(e)];case 1:return n=o.sent(),(r=n)?[3,3]:[4,function(e){var n=e.request;return t(this,void 0,void 0,function(){var e,t,r;return __generator(this,function(o){switch(o.label){case 0:return[4,rn()];case 1:return e=o.sent(),[4,fetch(n)];case 2:return t=o.sent(),r=t&&(200===t.status||"opaque"===t.type)&&t.clone(),e&&r?[4,e.put(n,r).catch(lr)]:[3,4];case 3:o.sent(),o.label=4;case 4:return[2,t]}})})}(e)];case 2:r=o.sent(),o.label=3;case 3:return[2,r]}})})}function hr(n){pe()&&function(n){t(this,void 0,void 0,function(){var t,n,r,o,a;return __generator(this,function(s){return t=self.VamtigerBrowserMethod,n=t.support,r=t.environment,o=(n||{}).indexedDbIsAccessible,a=o&&n&&e({environment:r},n)||{},be({action:S.saveSupport,params:a}),[2]})})}()}function vr(){pe()&&function(){t(this,void 0,void 0,function(){return __generator(this,function(e){return addEventListener("install",hr),addEventListener("activate",hr),addEventListener("fetch",function(e){return mr(e)}),[2]})})}()}var pr={loadScript:Re,loadScripts:function(e){return Promise.all(e.map(Re))},loadScriptsSequentially:function(e){return new Promise(function(n,r){var o=new Set,a=Promise.resolve();return e.forEach(function(e){a=a.then(function(){return t(void 0,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(Re))];case 1:return[2,t.sent()]}})})}).then(function(e){return e.forEach(function(e){return o.add(e)})})}),a=a.then(function(){return n(Array.from(o))})})},loadMethod:function(e){return t(void 0,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return t=Boolean,[4,mn(e)];case 1:return[2,t.apply(void 0,[n.sent()])]}})})},loadShadowStylesheet:function(e){var t=e.css,n=e.element,r=n.shadowRoot,o=(n.localName,r&&r.querySelector(b.lastStylesheet)),a=r&&document.createElement("style");a&&r&&(a.innerHTML=t,o&&o.nextElementSibling?r.insertBefore(a,o.nextElementSibling):r.appendChild(a))},defineCustomElement:function e(t){var n=t.name,r=t.constructor,o=t.ignore,a=self.customElements,s=a&&a.define,i=s&&a.get&&a.get(n);if(s&&!i)a.define(n,r),ut({name:n});else if(i);else{if(o)throw new Error(lt+": Custom Elements - "+n);e({name:n,constructor:r,ignore:!0})}},pause:function(e){var t=e.milliseconds,n=void 0===t?1e3:t;return new Promise(function(e,t){return setTimeout(e,n)})},getElement:function(e){return t(this,void 0,void 0,function(){return __generator(this,function(t){return[2,new Promise(function(t,n){var r=self.requestIdleCallback;r?r(function(){return kt(e,t).catch(n)}):setTimeout(function(){return kt(e,t).catch(n)},0)})]})})},getData:function(e){var n=this;return new Promise(function(r,o){return t(n,void 0,void 0,function(){var t,n;return __generator(this,function(a){switch(a.label){case 0:return t=self.requestIdleCallback,n=e.textMode,e.jsonLd?n?[4,Qt(e)]:[3,2]:[3,3];case 1:a.sent(),a.label=2;case 2:return t?t(function(){return Ht(e).then(r).catch(o)}):setTimeout(function(){return Ht(e).then(r).catch(o)},0),[3,4];case 3:o(new Error($t)),a.label=4;case 4:return[2]}})})})},getEnvironment:Gt,environment:Gt(),messageQueue:new Map,getMicrodataCaption:function(e){var t,n,r=e.imageData,o=e.fieldKey,a=r[o],s=Array.isArray(a)&&a||[a]||[],i=a&&Kn({selector:b.linkedDataCaption,attributes:{itemprop:o}});return s.forEach(function(e){e&&(t=e["@context"]&&e["@type"]&&[e["@context"],e["@type"]].join(Xn),(n=Kn({selector:b.linkedDataCaption}))&&(n.setAttribute("itemscope",Zn),t&&n.setAttribute("itemtype",t),[e.name&&Kn({selector:b.linkedDataCaptionElement,properties:{innerHTML:e.name},attributes:{itemprop:"name"}}),e.description&&Kn({selector:b.linkedDataCaptionElement,properties:{innerHTML:e.description},attributes:{itemprop:"description"}}),e.url&&Kn({selector:b.a,properties:{innerHTML:e.name||e.url},attributes:{itemprop:"url",href:e.url}})].forEach(function(e){return e&&n&&n.appendChild(e)}),i&&i.appendChild(n)))}),i},getJsonLdArray:function(e){var n=this;return new Promise(function(r,o){return t(n,void 0,void 0,function(){return __generator(this,function(t){return er?er(function(){return sr(e).then(r).catch(o)}):setTimeout(function(){return sr(e).then(r).catch(o)},0),[2]})})})},method:{}};function wr(e){throw console.error(e),e}(function(){return t(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),self.VamtigerBrowserMethod?[3,2]:(self.VamtigerBrowserMethod=pr,vr(),[4,Promise.all([ir(),cn(),Un(),Fn()])]);case 1:e.sent(),ur({eventName:o.vamtigerBrowserMethodReady}),e.label=2;case 2:return[3,4];case 3:return wr(e.sent()),[3,4];case 4:return[2]}})})})().catch(wr)}();
//# sourceMappingURL=vamtiger-browser-method.js.map
