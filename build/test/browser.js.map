{"version":3,"file":"browser.js","sources":["../../node_modules/tslib/tslib.js","../../source/types.ts","../../source/get-meta-element.ts","../../source/load-element-query-css.ts","../../source/config.ts","../../source/get-transpiled-js.ts","../../source/is-window.ts","../../source/is-worker.ts","../../source/is-service-worker.ts","../../source/get-service-worker-clients.ts","../../source/send-message.ts","../../source/send-message-from-service-worker.ts","../../source/is-json-script.ts","../../source/remove-redundant-scripts.ts","../../source/load-script.ts","../../source/test/load-vamtiger-browser-method.ts","../../source/test/load-script.ts","../../source/test/get-element.ts","../../source/test/get-data.ts","../../source/get-tab-link.ts","../../source/get-json-ld-array.ts","../../source/get-email-link.ts","../../source/test/get-json-ld-array.ts","../../source/test/intersection-observer.ts","../../source/test/load-method.ts","../../source/test/get-method-result.ts","../../source/test/browser.ts","../../source/test/define-custom-element.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global global, define, System, Reflect, Promise */\r\nvar __extends;\r\nvar __assign;\r\nvar __rest;\r\nvar __decorate;\r\nvar __param;\r\nvar __metadata;\r\nvar __awaiter;\r\nvar __generator;\r\nvar __exportStar;\r\nvar __values;\r\nvar __read;\r\nvar __spread;\r\nvar __await;\r\nvar __asyncGenerator;\r\nvar __asyncDelegator;\r\nvar __asyncValues;\r\nvar __makeTemplateObject;\r\nvar __importStar;\r\nvar __importDefault;\r\n(function (factory) {\r\n    var root = typeof global === \"object\" ? global : typeof self === \"object\" ? self : typeof this === \"object\" ? this : {};\r\n    if (typeof define === \"function\" && define.amd) {\r\n        define(\"tslib\", [\"exports\"], function (exports) { factory(createExporter(root, createExporter(exports))); });\r\n    }\r\n    else if (typeof module === \"object\" && typeof module.exports === \"object\") {\r\n        factory(createExporter(root, createExporter(module.exports)));\r\n    }\r\n    else {\r\n        factory(createExporter(root));\r\n    }\r\n    function createExporter(exports, previous) {\r\n        if (exports !== root) {\r\n            if (typeof Object.create === \"function\") {\r\n                Object.defineProperty(exports, \"__esModule\", { value: true });\r\n            }\r\n            else {\r\n                exports.__esModule = true;\r\n            }\r\n        }\r\n        return function (id, v) { return exports[id] = previous ? previous(id, v) : v; };\r\n    }\r\n})\r\n(function (exporter) {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\n    __extends = function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n\r\n    __assign = Object.assign || function (t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n\r\n    __rest = function (s, e) {\r\n        var t = {};\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n            t[p] = s[p];\r\n        if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n                t[p[i]] = s[p[i]];\r\n        return t;\r\n    };\r\n\r\n    __decorate = function (decorators, target, key, desc) {\r\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n    };\r\n\r\n    __param = function (paramIndex, decorator) {\r\n        return function (target, key) { decorator(target, key, paramIndex); }\r\n    };\r\n\r\n    __metadata = function (metadataKey, metadataValue) {\r\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n    };\r\n\r\n    __awaiter = function (thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    };\r\n\r\n    __generator = function (thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    };\r\n\r\n    __exportStar = function (m, exports) {\r\n        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n    };\r\n\r\n    __values = function (o) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n        if (m) return m.call(o);\r\n        return {\r\n            next: function () {\r\n                if (o && i >= o.length) o = void 0;\r\n                return { value: o && o[i++], done: !o };\r\n            }\r\n        };\r\n    };\r\n\r\n    __read = function (o, n) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n        if (!m) return o;\r\n        var i = m.call(o), r, ar = [], e;\r\n        try {\r\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n        }\r\n        catch (error) { e = { error: error }; }\r\n        finally {\r\n            try {\r\n                if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n            }\r\n            finally { if (e) throw e.error; }\r\n        }\r\n        return ar;\r\n    };\r\n\r\n    __spread = function () {\r\n        for (var ar = [], i = 0; i < arguments.length; i++)\r\n            ar = ar.concat(__read(arguments[i]));\r\n        return ar;\r\n    };\r\n\r\n    __await = function (v) {\r\n        return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n    };\r\n\r\n    __asyncGenerator = function (thisArg, _arguments, generator) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n        return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n        function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n        function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n        function fulfill(value) { resume(\"next\", value); }\r\n        function reject(value) { resume(\"throw\", value); }\r\n        function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n    };\r\n\r\n    __asyncDelegator = function (o) {\r\n        var i, p;\r\n        return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n    };\r\n\r\n    __asyncValues = function (o) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var m = o[Symbol.asyncIterator], i;\r\n        return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n    };\r\n\r\n    __makeTemplateObject = function (cooked, raw) {\r\n        if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n        return cooked;\r\n    };\r\n\r\n    __importStar = function (mod) {\r\n        if (mod && mod.__esModule) return mod;\r\n        var result = {};\r\n        if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n        result[\"default\"] = mod;\r\n        return result;\r\n    };\r\n\r\n    __importDefault = function (mod) {\r\n        return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n    };\r\n\r\n    exporter(\"__extends\", __extends);\r\n    exporter(\"__assign\", __assign);\r\n    exporter(\"__rest\", __rest);\r\n    exporter(\"__decorate\", __decorate);\r\n    exporter(\"__param\", __param);\r\n    exporter(\"__metadata\", __metadata);\r\n    exporter(\"__awaiter\", __awaiter);\r\n    exporter(\"__generator\", __generator);\r\n    exporter(\"__exportStar\", __exportStar);\r\n    exporter(\"__values\", __values);\r\n    exporter(\"__read\", __read);\r\n    exporter(\"__spread\", __spread);\r\n    exporter(\"__await\", __await);\r\n    exporter(\"__asyncGenerator\", __asyncGenerator);\r\n    exporter(\"__asyncDelegator\", __asyncDelegator);\r\n    exporter(\"__asyncValues\", __asyncValues);\r\n    exporter(\"__makeTemplateObject\", __makeTemplateObject);\r\n    exporter(\"__importStar\", __importStar);\r\n    exporter(\"__importDefault\", __importDefault);\r\n});\r\n","import * as tslib from 'tslib/tslib';\nimport { requestIdleCallback } from 'requestidlecallback';\nimport * as lodash from 'lodash';\n\nexport enum Environment {\n    window = 'window',\n    worker = 'worker',\n    serviceWorker = 'serviceWorker',\n    unknown = 'unknown'\n}\n\nexport enum CacheName {\n    vamtigerBrowserMethod = 'vamtiger-browser-method'\n}\n\nexport enum EventName {\n    vamtigerBrowserMethodReady = 'vamtigerBrowserMethodReady'\n}\n\nexport enum TimeoutDuration {\n    webComponent = 30000,\n    indexDbIsAccessible = 100\n}\n\nexport enum MessageQueueName {\n    webComponent = 'webComponent'\n}\n\nexport enum Prefix {\n    vamtigerBrowserMethod = 'vamtiger-browser-method',\n    db = 'vamtiger-browser-method',\n    messageIdWindow = 'vamtiger-browser-method-window',\n    messageIdWorker = 'vamtiger-browser-method-worker',\n    messageIdServiceWorker = 'vamtiger-browser-method-service-worker',\n    messageIdUnknownEnvironment = 'vamtiger-browser-method-unknown-environment'\n}\n\nexport enum ElementId {\n    metaElement = 'vamtiger-browser-method'\n}\n\nexport enum Origin {\n    nowhere = '',\n    everyWhere = '*'\n}\n\nexport enum HostName {\n    localHost = 'localhost'\n}\n\nexport enum LocalHostRelativePath {\n    vamtigerBrowserMethod = 'vamtiger-browser-method.js'\n}\n\nexport enum ScriptType {\n    js = 'text/javascript',\n    babel = 'text/babel',\n    json = 'application/json',\n    jsonld = 'application/ld+json'\n}\n\nexport enum ScriptAttribute {\n    type = 'type'\n}\n\nexport enum DataAttribute {\n    vamtigerElementQuery = 'vamtigerLoadElementQueryCss',\n    elementQueryCssLoaded = 'elementQueryCssLoaded',\n    customElementName = 'customElementName',\n    visible = 'visible'\n}\n\nexport enum ErrorMessage {\n    failedToLoadScript = 'Failed to load script',\n    windowPropertyNotSet = 'Window property not set',\n    unsupportedFeature = 'Unsupported feature',\n    customElementAreadyDefined = 'Custom element already defined',\n    noElementName = 'No Element Name',\n    noTemplateUrl = 'No Template URL',\n    noElementSelector = 'No Template Selector',\n    noTemplateForUrl = 'No Template for URL',\n    noTemplate = 'No Template',\n    noElementForSelector = 'No Element for Selector',\n    noJsonLdParameter = 'No \"jsonLd\" property set',\n    scriptLoadedButMethodNameNotFound = 'Failed to load method: Script loaded, but method name not found',\n    crossOriginMethodsNotAllowed = 'Cross-Origin methods are not allowed'\n}\n\nexport enum StringConstant {\n    nothing = '',\n    slash = '/',\n    dash = '-',\n    pipe = '|',\n    comma = ',',\n    backTick = '`',\n    doubleQuote = '\"',\n    commaSpace = ', ',\n    space = ' ',\n    period = '.',\n    newline = '\\n',\n    semiColon = ';'\n}\n\nexport enum TagName {\n    div = 'div',\n    template = 'template'\n}\n\nexport enum LinkRel {\n    stylesheet = 'stylesheet'\n}\n\nexport enum LoadScriptElement {\n    script = 'script',\n    link = 'link',\n    style = 'style'\n}\n\nexport enum Selector {\n    lastStylesheet = 'style:last-of-type',\n    lastMetaElement = 'head > meta:last-of-type',\n    webcomponentsjs = 'script[src*=\"@webcomponents\\/webcomponentsjs\"]',\n    style = 'style',\n    stylesheet = ' link[rel=\"stylesheet\"]',\n    vamtigerBrowserMethodJsonJs = '[src$=\"vamtiger-browser-method.js.json.js\"]',\n    worker = '[src$=\"js.json.js\"][data-worker]',\n    workderDependency = 'script[data-worker-dependency]',\n    vamtigerBrowserMethodJson = '[data-name$=\"vamtiger-browser-method.js.json\"]',\n    vamtigerBrowserMethod = '[data-name$=\"vamtiger-browser-method.js\"]',\n    script = 'script',\n    jsonScript = 'script[type=\"application/json\"]',\n    jsonLdScript = 'script[type=\"application/ld+json\"]',\n    a = 'a',\n    linkedDataCaption = '[data-linked-data-caption]',\n    linkedDataCaptionElement = '[data-linked-data-caption-element]',\n    jsonLdViewer = 'vamtiger-json-ld-viewer',\n    transpiledJs = '[data-transpiled-js]',\n    htmlTextMode = 'html[data-vamtiger-text-mode]',\n    customElementNameMetaElement = 'meta[data-custom-element-name]'\n}\n\nexport enum TextModeElementName {\n    vamtigerJsonLdViewer = 'vamtiger-json-ld-viewer'\n}\n\nexport enum  MetaElementName {\n    loadElementQueryCss = 'vamtiger-load-element-query-css'\n}\n\nexport enum ScriptNameSuffix {\n    style = 'style',\n    stylesheet = 'stylesheet'\n}\n\nexport enum ScriptName {\n    textMode = 'vamtiger-text-mode'\n}\n\nexport enum MessageAction {\n    ignore = 'ignore',\n    removeRedundantScripts = 'removeRedundantScripts',\n    setWorkerSupport = 'setWorkerSupport',\n    saveWebComponentData = 'saveWebComponentData',\n    getWebComponentData = 'getWebComponentData',\n    dequeue = 'dequeue',\n    loadWebComponentData = 'loadWebComponentData',\n    saveSupport = 'saveSupport',\n    saveCustomElementName = 'saveCustomElementName',\n    getTextModeCss = 'getTextModeCss',\n    loadScript = 'loadScript',\n    loadMethod = 'loadMethod',\n    updateMethod = 'updateMethod',\n    getMethodResult = 'getMethodResult'\n}\n\nexport enum DbName {\n    vamtigerBrowserSupport = 'vamtiger-browser-support'\n}\n\nexport enum DbStoreName {\n    support = 'support',\n    webComponent = 'web-component',\n    customElementName = 'custom-element-name'\n}\n\nexport enum DbMode {\n    readonly = 'readonly',\n    readwrite = 'readwrite',\n    versionchange = 'versionchange'\n}\n\nexport enum DbKeyPath {\n    webComponent = 'url',\n    support = 'environment',\n    customElementName = 'name'\n}\n\nexport enum Dependency {\n    lodash = 'https://vamtiger-project.github.io/vamtiger-browser-method/build/lodash.min.js.json.js',\n    jsonLdViewer = 'https://vamtiger-project.github.io/vamtiger-json-ld-viewer/build/vamtiger-json-ld-viewer.js.json.js'\n}\n\nexport interface IDequeue {\n    key: string;\n    data: IAnyObject;\n}\n\nexport interface IGetDbParams {\n    storeName: DbStoreName;\n    keyPath: DbKeyPath;\n    mode: DbMode;\n}\n\nexport interface IGetDbParamsHandleUpgradeNeeded extends Pick<IDbParams, 'db'>{}\n\nexport interface IDbParams {\n    db: IDBDatabase;\n    transaction: IDBTransaction;\n    store: IDBObjectStore;\n}\n\nexport interface ILoadRemoteScriptParams {\n    src: string;\n}\n\nexport interface ILoadRemoteStylesheetScriptParams {\n    href: string;\n}\n\nexport interface IIsJsonScript {\n    script: HTMLScriptElement;\n}\n\nexport interface ILoadLocalScriptParams {\n    name: string;\n    removeExisting?: boolean;\n    removeFromDom?: boolean;\n    workerDependency?: boolean;\n}\n\nexport interface ILoadScriptParams {\n    js: string;\n    jsonld?: boolean;\n}\n\nexport interface ISaveCustomeElementName {\n    name: string;\n}\n\nexport interface ILoadJsonScriptParams {\n    json: string;\n}\n\nexport interface ILoadStylesheetScriptParams {\n    css: string;\n}\n\nexport interface IAnyObject {\n    [key: string]: any;\n}\n\nexport interface IJsonData {\n    jsonLd: IAnyObject[];\n    json?: IAnyObject;\n}\n\nexport interface IJsonJsonLd {\n    index: number;\n    fields: {\n        [key: string]: string[];\n    }\n}\n\nexport interface ILoadScript {\n    params: LocalScriptParams\n        | LocalStylesheetScriptParams\n        | ILoadRemoteScriptParams\n        | ILoadRemoteStylesheetScriptParams\n        | ILoadJsonScriptParams;\n    reject: (error: Error) => void\n}\n\nexport interface IUpdateMthod {\n    name: string;\n}\n\nexport interface IGetMethodResult {\n    messageId?: string;\n    name: string;\n    params: IAnyObject;\n}\n\nexport interface IGetMethodResultWindow extends IGetMethodResult {\n    resolve: (result: any) => void;\n    reject: (error: Error) => void;\n}\n\nexport interface IUpdateMthodWrapNamedMethod {\n    method: Function;\n}\n\nexport interface ILoadScriptLoadJsJsonJs {\n    src: string;\n    workerDependency?: boolean;\n}\n\nexport interface ILoadShadowStylesheet {\n    css: string;\n    element: HTMLElement;\n}\n\nexport interface IJsonScriptData {\n    name: string;\n    text: string;\n}\n\nexport interface IDefineCustomElement {\n    name: string;\n    constructor: {\n        new (): HTMLElement\n        prototype: HTMLElement;\n    };\n    ignore?: boolean;\n}\n\nexport interface IPause {\n    milliseconds: number;\n}\n\nexport interface IGetElementBase {\n    name: string;\n    loadStylesheets?: boolean;\n}\n\nexport interface IGetElementTemplate extends IGetElementBase {\n    template: string;\n    selector?: string;\n}\n\nexport interface IGetElementUrl extends IGetElementBase {\n    url: string;\n    selector:  string;\n}\n\nexport interface ILoadElementQueryCss {\n    css: string;\n    stylesheetName?: string;\n    hostName?: string;\n}\n\nexport interface IGetJsonLdArray {\n    jsonLd: IAnyObject;\n}\n\nexport interface IGetJsonLdArrayGetEntry {\n    key: string;\n    value: string | IAnyObject | IAnyObject[];\n}\n\nexport interface IGetMetaElement {\n    selector?: string;\n    properties?: {\n        id?: string;\n    };\n    attributes?: {\n        [key: string]: string;\n    };\n    dataset?: DOMStringMap;\n}\n\nexport interface IDispatchEvent {\n    eventName: EventName;\n    detail?: IAnyObject;\n}\n\nexport interface IGetBabelJs {\n    url?: string;\n    js?: string;\n}\n\nexport interface ILoadContainerStylesheets {\n    name: string;\n    container: HTMLTemplateElement;\n}\n\nexport interface IGetData {\n    jsonLd: string;\n    textMode?: boolean;\n}\n\nexport interface IGetDataResolve extends IGetData {\n    data: IJsonData;\n    jsonLd: string;\n    resolve: (data: IJsonData) => void\n}\n\nexport interface IGetJsonLd {\n    jsonLd: string;\n    textMode?: boolean;\n    loadJsonJsonLd?: boolean;\n}\n\nexport interface IViewJsonLd {\n    jsonLd: string;\n}\n\nexport interface IJosnLdImageObject {\n    \"@context\": string;\n    '@type': string;\n    name: string;\n    description: string;\n    author: {\n        '@type': string;\n        givenName: string;\n        familyName: string;\n        email: string;\n    };\n    datePublished: string;\n    contentUrl: string;\n}\n\nexport interface IMessageAction {\n    action: MessageAction;\n    params: IAnyObject & {\n        messageId?: string;\n        ports?: MessagePort[];\n    };\n}\n\nexport interface IRemoveRedundantScripts {\n    selector: string;\n}\n\nexport interface IRemoveRedundantScriptsRemoveScripts extends IRemoveRedundantScripts {\n    parent: HTMLElement;\n}\n\nexport interface IRemoveRedundantScriptsRemoveScriptsFromParent extends IRemoveRedundantScriptsRemoveScripts {\n    resolve?: () => void;\n    reject?: (error: Error) => void;\n}\n\nexport interface ISupport {\n    cache: boolean;\n    localStorage: boolean;\n    indexedDb: boolean;\n    indexedDbIsAccessible: boolean;\n    worker: boolean;\n    sharedWorker: boolean;\n    textEncoder: boolean;\n    textDecoder: boolean;\n}\n\nexport interface ILoadMethod {\n    name: string;\n    relativeUrl: string;\n}\n\nexport interface ILoadMethodWindow extends ILoadMethod {\n    resolve: () => void;\n    reject: (error: Error) => void;\n}\n\nexport interface ICustomElementName {\n    name: string;\n}\n\nexport interface ISaveSupport extends ISupport {\n    environment: Environment;\n}\n\nexport interface ISaveWebComponentData extends IWebComponentData {}\n\nexport interface IGetWebComponentData {\n    key: string;\n}\n\nexport interface IGetDbName {\n    dbName: DbName\n}\n\nexport interface ISaveIndexedDbData {\n    storeName: DbStoreName;\n    keyPath: DbKeyPath;\n    messageId?: string;\n    data: IndexDbData;\n    successAction?: MessageAction\n}\n\nexport interface IGetIndexedDbData {\n    storeName: DbStoreName;\n    keyPath: DbKeyPath;\n    key?: string;\n    messageId?: string;\n}\n\nexport interface ISaveIndexedDbDataHandleSuccess {\n    messageId?: string;\n    key: string;\n    action?: MessageAction;\n    data: IndexDbData;\n}\n\nexport interface IWebComponentData {\n    url: string;\n    created?: number;\n    messageId?: string;\n    jsonLd: IAnyObject[];\n    json: IAnyObject;\n}\n\nexport interface ISaveWebComponentDataWorker extends ISaveWebComponentData {}\n\nexport interface IMessageQueueEntry {\n    resolve: (result: any) => void;\n    reject: (reason: Error) => void;\n}\n\nexport interface IQueue extends NonNullable<Pick<IMessageQueueEntry, 'resolve' | 'reject'>> {\n    key: string;\n}\n\nexport interface IQueueHandleExpiredQueueEntry {\n    key: string;\n    queueEntry: IMessageQueueEntry;\n}\n\nexport interface ILoadData {\n    url: string;\n    loadJsonJsonLd?: boolean;\n}\n\nexport interface ILoadDataGetFeldData {\n    key: string;\n    urls: string[];\n}\n\nexport interface ILoadDataGetJsonJsonLd extends IJsonJsonLd {}\n\nexport interface IGetMicrodataCaption {\n    imageData: IAnyObject;\n    fieldKey: string;\n}\n\nexport interface IGetTemplate {\n    selector: Selector;\n    attributes?: IAttributes;\n    properties?: IProperties;\n}\n\nexport interface IProperties {\n    name?: string;\n    src?: string;\n    alt?: string;\n    innerHTML?: string;\n}\n\nexport interface IGetTabLink {\n    href: string;\n    text: string;\n}\n\nexport interface IGetEmailLink {\n    href: string;\n    text: string;\n}\n\nexport interface IVamtigerBrowserMethodLoadMethod {\n    [key: string]: Function;\n}\n\nexport type WebComponentDataResolve = (webComponent: IJsonData | undefined) => void;\n\nexport type ErrorResolve = (error: Error) => void;\n\nexport type MessageResponse = IMessageAction | undefined | null | false;\n\nexport type TsLibType = typeof tslib;\n\nexport type TsLibKey = keyof TsLibType;\n\nexport type TsLib = {\n    [K in TsLibKey]: TsLibType[K]\n}\n\nexport type LocalScriptParams = ILoadLocalScriptParams & ILoadScriptParams;\n\nexport type LocalStylesheetScriptParams = ILoadLocalScriptParams & ILoadStylesheetScriptParams;\n\nexport type LoadScriptParams = LocalScriptParams\n    | LocalStylesheetScriptParams\n    | ILoadRemoteScriptParams\n    | ILoadRemoteStylesheetScriptParams;\n\nexport type LoadScriptsParams = LoadScriptParams[];\n\nexport type LoadScriptsSequentiallyParams = LoadScriptsParams[];\n\nexport type DependencyKey = keyof typeof Dependency;\n\nexport type LoadedScript<P extends ILoadScript['params']> =\n    P extends ILoadScriptParams ? HTMLScriptElement :\n    P extends ILoadStylesheetScriptParams ? HTMLStyleElement :\n    P extends ILoadRemoteScriptParams ? HTMLScriptElement :\n    P extends ILoadRemoteStylesheetScriptParams ? HTMLLinkElement :\n    never;\n\nexport type LoadedScripts<P extends LoadScriptsParams> =\n    P extends ILoadScriptParams[] ? HTMLScriptElement[] :\n    P extends ILoadStylesheetScriptParams[] ? HTMLStyleElement[] :\n    P extends ILoadRemoteScriptParams[] ? HTMLScriptElement[] :\n    P extends ILoadRemoteStylesheetScriptParams[] ? HTMLLinkElement[] :\n    never;\n\nexport type LoadedScriptsSequentially<P extends LoadScriptsSequentiallyParams> =\n    P extends ILoadScriptParams[][] ? HTMLScriptElement[] :\n    P extends ILoadStylesheetScriptParams[][] ? HTMLStyleElement[] :\n    P extends ILoadRemoteScriptParams[][] ? HTMLScriptElement[] :\n    P extends ILoadRemoteStylesheetScriptParams[][] ? HTMLLinkElement[] :\n    never;\n\nexport type GetElementParams = IGetElementTemplate | IGetElementUrl;\n\nexport type VamtigerBrowserMethod = {\n    metaElement?: HTMLMetaElement;\n    loadScript: <P extends LocalScriptParams | LocalStylesheetScriptParams | ILoadRemoteScriptParams | ILoadRemoteStylesheetScriptParams>(params: P) => Promise<LoadedScript<P>>;\n    loadScripts: <P extends LoadScriptParams[]>(params: P) => Promise<LoadedScripts<P>>;\n    loadScriptsSequentially: <P extends LoadScriptParams[][]>(params: P) => Promise<LoadedScriptsSequentially<P>>;\n    loadMethod: (params: ILoadMethod) => Promise<boolean>;\n    loadShadowStylesheet: ({ css, element }: ILoadShadowStylesheet) => void;\n    defineCustomElement: ({ name, constructor, ignore }: IDefineCustomElement) => void;\n    pause: ({ milliseconds }: IPause) => Promise<unknown>;\n    getElement: <P extends GetElementParams>(params: P) => Promise<HTMLElement>;\n    getData: ({ jsonLd }: IGetData) => Promise<IJsonData>;\n    getEnvironment: () => Environment;\n    environment: Environment;\n    getMicrodataCaption: (params: IGetMicrodataCaption) => HTMLElement | null | undefined\n    messageQueue: Map<string, Set<IMessageQueueEntry>>;\n    worker?: Worker;\n    serviceWorker?: ServiceWorker;\n    serviceWorkerRegistration?: ServiceWorkerRegistration;\n    support?: ISupport;\n    workerSupport?: ISupport;\n    serviceWorkerSupport?: ISupport;\n    getJsonLdArray: ({ jsonLd }: IGetJsonLdArray) => Promise<string[][]>;\n    textMode?: boolean;\n    intersectionObserver?: IntersectionObserver;\n    messageChannel?: MessageChannel;\n    method: IVamtigerBrowserMethodLoadMethod;\n};\n\nexport interface IAttributes {\n    id?: string;\n    for?: string;\n    slot?: string;\n    'data-image-figure'?: string;\n    'data-json-ld'?: string;\n    itemprop?: string;\n}\n\nexport interface IGetServiceWorkerClients {\n    type: ClientTypes;\n}\n\nexport interface ISendMessageFromServiceWorker {\n    message: string | Uint8Array;\n    clients?: ServiceWorkerClient;\n}\n\nexport interface FetchEvent extends Event {\n\trequest: Request;\n\trespondWith(response: Promise<Response>|Response): Promise<Response>;\n}\n\nexport interface IUpdateRequestCache {\n    request: Request;\n}\n\nexport type ServiceWorkerClient = 'window' | 'worker' | 'sharedworker' | 'all';\n\nexport type JsonDataResolve = (data: IJsonData) => void;\n\nexport type WorkerPostMessage = (message: string | Uint8Array) => void;\n\nexport type IndexDbData = IWebComponentData | ISupport | ICustomElementName;\n\nexport type GetIndexedDbData<P extends IGetIndexedDbData> =\n    P['keyPath'] extends DbKeyPath.webComponent ? IWebComponentData | undefined :\n    P['keyPath'] extends DbKeyPath.support ? ISaveSupport :\n    P['keyPath'] extends DbKeyPath.customElementName ? ICustomElementName[] :\n    never;\n\nexport type DbKeyPathName = keyof typeof DbKeyPath;\n\nexport type DbStoreNameKey = keyof typeof DbStoreName;\n\nexport type AttributesKey = keyof IAttributes;\n\nexport type GetTemplate<P extends IGetTemplate> =\n    P['selector'] extends Selector.a ? HTMLAnchorElement :\n    P['selector'] extends  Selector.linkedDataCaptionElement ? HTMLSpanElement :\n    P['selector'] extends Selector.linkedDataCaption ? HTMLElement :\n    null;\n\ndeclare global {\n    interface Window extends TsLib {\n        VamtigerBrowserMethod: VamtigerBrowserMethod;\n        Babel: any;\n        EQCSS: IAnyObject;\n        requestIdleCallback?: typeof requestIdleCallback;\n        _: typeof lodash;\n        IntersectionObserver: typeof IntersectionObserver;\n        importScripts?: (url: string) => void;\n    }\n\n    namespace NodeJS {\n        interface  Global {\n            VamtigerBrowserMethod: Window['VamtigerBrowserMethod'];\n        }\n    }\n}\n\nexport const regex = {\n    showRootHost: /:{1,2}host/gm,\n    dash: new RegExp(StringConstant.dash, 'g'),\n    space: /\\s/g,\n    nonWord: /\\W+/g,\n    backTicks: /`/gm,\n    remoteUrl: /^http(s)?/i,\n    jsJsonJs: /\\.js\\.json\\.js$/,\n    jsonJs: /\\.json\\.js$/,\n    trailingJs: /\\.js$/,\n    uppercase: /[A-Z]/,\n    leadingAt: /^@/,\n    email: /^email$/i,\n    trailingHtml: /\\.html$/i,\n    textModeElement: new RegExp(\n        (Object.keys(TextModeElementName) as (keyof typeof TextModeElementName)[])\n            .map(key => TextModeElementName[key])\n            .join(StringConstant.pipe),\n        'i'\n    )\n}\n\nexport const selector = {\n    redundantScripts: [\n        Selector.vamtigerBrowserMethodJsonJs,\n        Selector.vamtigerBrowserMethodJson,\n        Selector.vamtigerBrowserMethod,\n        Selector.transpiledJs,\n        ...(Object.keys(Dependency) as DependencyKey[]).map(key => `[src=\"${Dependency[key]}\"]`)\n    ].join(StringConstant.comma)\n}\n\nexport const sendMessageFromWorker = getPostMessage();\n\nexport const ignore = () => {};\n\nfunction getPostMessage() {\n    try {\n        return postMessage as WorkerPostMessage;\n    } catch(error) {}\n}","import {\n    IGetMetaElement,\n    StringConstant,\n    Selector\n} from './types';\n\nconst { nothing } = StringConstant;\n\nexport default function ({ selector = nothing, properties = {}, dataset = {}, attributes = {}}: IGetMetaElement) {\n    const { id } = properties;\n    const { head } = document;\n    const lastMetaElement = head.querySelector<HTMLMetaElement>(Selector.lastMetaElement);\n    const attributeKeys = Object.keys(attributes);\n    const existingMetaElement = id && ((window as any)[id]\n        || selector && head.querySelector(selector)) as HTMLMetaElement;\n    const newMetaElment = !existingMetaElement && document.createElement('meta');\n    const metaElement = (existingMetaElement || newMetaElment) as HTMLMetaElement;\n\n    let dataKey: string;\n\n    if (newMetaElment) {\n        Object.assign(newMetaElment, properties);\n        Object.assign(newMetaElment.dataset, dataset);\n\n        if (lastMetaElement && lastMetaElement.nextElementSibling) {\n            head.insertBefore(\n                newMetaElment,\n                lastMetaElement.nextElementSibling\n            );\n        } else {\n            head.appendChild(newMetaElment);\n        }\n    }\n\n    attributeKeys.forEach(key => !metaElement.hasAttribute(key) && metaElement.setAttribute(dataKey, attributes[key]));\n\n    return metaElement;\n}","import {\n    ILoadElementQueryCss,\n    MetaElementName,\n    StringConstant,\n    regex\n} from './types';\nimport getMetaElment from './get-meta-element';\n\nconst { requestIdleCallback } = self;\nconst { showRootHost } = regex;\nconst { nothing } = StringConstant;\n\nexport default function(params: ILoadElementQueryCss) {return new Promise(async (resolve, reject) => {\n    if (requestIdleCallback) {\n        requestIdleCallback(() => loadElementQueryCss(params).then(resolve).catch(reject));\n    } else {\n        setTimeout(() => loadElementQueryCss(params).then(resolve).catch(reject), 0);\n    }\n})}\n\nasync function loadElementQueryCss({ css, stylesheetName: currentStylesheetName = nothing, hostName = nothing }: ILoadElementQueryCss) {\n    const { _ } = self;\n    const { camelCase } = _;\n    const metaElement = getMetaElment({\n        properties: {\n            id: MetaElementName.loadElementQueryCss\n        }\n    });\n    const stylesheetName = camelCase(currentStylesheetName);\n    const { dataset } = metaElement;\n    const elementQueryCss = !dataset.hasOwnProperty(hostName) && (hostName && css.replace(showRootHost, hostName)) || css;\n    const { EQCSS } = self;\n\n    if (elementQueryCss && EQCSS) {\n        EQCSS.register(EQCSS.parse(elementQueryCss));\n\n        if (stylesheetName) {\n            dataset[stylesheetName] = nothing;\n        } else if (hostName) {\n            dataset[hostName] = nothing;\n        }\n    }\n\n    return true;\n}","import {\n    Dependency\n} from './types';\n\nexport const babel = {\n    presets: ['es2015']\n};\n\nexport const jsonLdEntryValueType = new Set([\n    typeof 1,\n    typeof '',\n    typeof true\n]);\n\nexport const dependencyPaths = Array.from(new Set([\n    'lodash/lodash.min.js'\n]));\n\nexport const getDependencies = () => [\n    !self._ && Dependency.lodash || ''\n].filter(dependency => dependency);\n\nexport const intersectionObserverThreshold = getIntersectionObserverThreshold(5);\n\nexport const intersectionObserver = {\n    root: null,\n    rootMargin: '0px',\n    threshold: intersectionObserverThreshold\n};\n\nexport const serviceWorker = {\n    scope: '/'\n};\n\nexport const serviceWorkerClients = {\n    includeUncontrolled: true\n}\n\nfunction getIntersectionObserverThreshold(length: number) {\n    const step = 1 / length;\n    const threshold = Array(length)\n        .fill(undefined)\n        .map((value, index) => index ? (index + 1) * step : index);\n\n    return threshold;\n}","import {\n    IGetBabelJs,\n    IAnyObject,\n    ScriptType,\n    ScriptAttribute,\n    StringConstant\n} from './types';\nimport { babel } from './config';\n\nconst { nothing } = StringConstant;\n\nexport default async function ({ url, js }: IGetBabelJs) {\n    const { fetch, Babel } = self;\n    const { transform } = Babel || { transform: undefined }\n    const code = transform && (js || url && await fetch(url)\n        .then(response => response && response.text())\n        .catch(handleError));\n    const { code: transpiledCode } = code && code.trim() && transform && transform(code, babel) || { code: '' };\n    const transpiledJs: string = transpiledCode || js;\n\n    return transpiledJs;\n}\n\nfunction handleError(error: Error) {\n    const transpiledJs = '';\n\n    console.warn(error.message);\n    console.warn(error.stack);\n\n    return transpiledJs;\n}","export default function () {\n    try {\n        return self instanceof Window;\n    } catch(error) {\n        return false;\n    }\n}","declare const DedicatedWorkerGlobalScope: any;\n\nexport default function () {\n    try {\n        return self instanceof DedicatedWorkerGlobalScope;\n    } catch(error) {\n        return false;\n    }\n}","declare const ServiceWorkerGlobalScope: any;\n\nexport default function () {\n    try {\n        return self instanceof ServiceWorkerGlobalScope;\n    } catch(error) {\n        return false;\n    }\n}","import {\n    IAnyObject,\n    IGetServiceWorkerClients\n} from './types';\nimport {\n    serviceWorkerClients as baseConfig\n} from './config';\nimport isServiceWorker from './is-service-worker';\n\ndeclare const self: IAnyObject;\n\nexport default async function (params: IGetServiceWorkerClients) {\n    const clients: IAnyObject[] = isServiceWorker() && await getClients(params) || [];\n\n    return clients;\n}\n\nfunction getClients({type}: IGetServiceWorkerClients) {\n    const config = {\n        ...baseConfig,\n        type\n    };\n    const clients = self && self.clients && self.clients.matchAll && self.clients.matchAll(config);\n\n    return clients;\n}","import {\n    IMessageAction,\n    ISupport,\n    sendMessageFromWorker\n} from './types';\nimport isWindow from './is-window';\nimport isWorker from './is-worker';\nimport isServiceWorker from './is-service-worker';\nimport sendMessageFromServiceWorker from './send-message-from-service-worker';\n\nconst { stringify } = JSON;\nconst textEncoder = new TextEncoder();\n\nexport default function (params: IMessageAction) {\n    const { VamtigerBrowserMethod } = self;\n    const { worker, support } = VamtigerBrowserMethod;\n    const { textEncoder: textEncoderSupport } = support || {} as ISupport;\n    const stringMessage = stringify(params);\n    const message = textEncoderSupport && textEncoder.encode(stringMessage)\n        || stringMessage;\n\n    isWindow() && worker && worker.postMessage(message);\n\n    isWorker() && sendMessageFromWorker && sendMessageFromWorker(message);\n\n    isServiceWorker() && sendMessageFromServiceWorker({message});\n}","import {\n    ISendMessageFromServiceWorker\n} from './types';\nimport getServiceWorkerClients from './get-service-worker-clients';\n\nexport default async function ({clients: type = 'window', message}: ISendMessageFromServiceWorker) {\n    const clients = await getServiceWorkerClients({type});\n\n    Promise.all(clients.map((client) => client.postMessage(message)));\n}","import {\n    IIsJsonScript\n} from './types';\n\nconst { parse } = JSON;\n\nexport default function ({ script }: IIsJsonScript) {\n    const { innerHTML } = script;\n\n    let isJson = false;\n\n    try {\n        parse(innerHTML);\n        isJson = true;\n    } catch(error) {\n        console.warn(error);\n        isJson = false;\n    }\n\n    return isJson;\n}","import {\n    MessageAction,\n    IRemoveRedundantScripts,\n    IRemoveRedundantScriptsRemoveScripts,\n    IRemoveRedundantScriptsRemoveScriptsFromParent,\n    StringConstant,\n    ScriptType,\n    Prefix\n} from './types';\nimport isWindow from './is-window';\nimport isWorker from './is-worker';\nimport sendMessage from './send-message';\nimport isJsonScript from './is-json-script';\n\nconst { requestIdleCallback } = self;\nconst { dash } = StringConstant;\nconst { vamtigerBrowserMethod: prefix } = Prefix;\n\nexport default async function (params: IRemoveRedundantScripts) {\n    isWindow() && await removeRedundantScripts(params);\n\n    isWorker() && sendRemoveRedundantScriptsMessage(params);\n}\n\nasync function removeRedundantScripts(params: IRemoveRedundantScripts) {\n    const { head: parent } = document;\n\n    await removeScripts({...params, parent});\n}\n\nexport function removeScripts(params: IRemoveRedundantScriptsRemoveScripts) {return new Promise((resolve, reject) => {\n    if (requestIdleCallback) {\n        requestIdleCallback(() => removeScriptsFromParent({...params, resolve, reject }));\n    } else {\n        setTimeout(() => removeScriptsFromParent({...params, resolve, reject }), 0);\n    }\n})}\n\nexport function removeDuplicateScripts(params: IRemoveRedundantScriptsRemoveScripts) {return new Promise((resolve, reject) => {\n    if (requestIdleCallback) {\n        requestIdleCallback(() => removeDuplicateScriptsFromParent({...params, resolve, reject }));\n    } else {\n        setTimeout(() => removeDuplicateScriptsFromParent({...params, resolve, reject }), 0);\n    }\n})}\n\nfunction removeDuplicateScriptsFromParent({resolve, reject, selector, parent}: IRemoveRedundantScriptsRemoveScriptsFromParent) {\n    const duplicateScripts = Array.from(parent.querySelectorAll<HTMLScriptElement>(selector));\n\n    duplicateScripts.pop();\n\n    duplicateScripts.forEach(duplicateScript => parent.removeChild(duplicateScript));\n\n    resolve && resolve();\n}\n\nfunction removeScriptsFromParent({ selector, parent, resolve, reject }: IRemoveRedundantScriptsRemoveScriptsFromParent) {\n    const { head } = document;\n    const scripts = Array.from(parent.querySelectorAll<HTMLScriptElement>(selector));\n    const jsScripts = scripts.filter(({type, src}) => src || !type || type === ScriptType.js);\n    const jsonScripts = scripts\n        .filter(({ type }) => type === ScriptType.json)\n        .filter(script => isJsonScript({ script }));\n    const jsonLdScripts = scripts\n        .filter(({ type }) => type === ScriptType.jsonld)\n        .filter(script => isJsonScript({ script }));\n    const safeScripts = jsonLdScripts.concat(jsonScripts);\n    const time = new Date().getTime();\n    const jsonScriptName = jsonScripts.length && [\n        prefix,\n        ScriptType.json,\n        time\n    ].join(dash);\n    const jsonScriptSelector = jsonScriptName && `script[type=\"${ScriptType.json}\"][data-name=\"${jsonScriptName}\"]`;\n    const jsonLdScriptName = jsonLdScripts.length && [\n        prefix,\n        ScriptType.jsonld,\n        time\n    ].join(dash);\n    const jsonLdScriptSelector = jsonLdScriptName && `script[type=\"${ScriptType.jsonld}\"][data-name=\"${jsonLdScriptName}\"]`;\n\n    jsScripts.length && jsonScriptName && jsScripts.forEach(({ dataset }) => dataset.name = jsonScriptName || '');\n\n    jsonLdScripts.length && jsonLdScriptName && jsonLdScriptSelector && jsonLdScripts.forEach(({ dataset }) => dataset.name = jsonLdScriptName || '');\n\n    if (jsonScriptSelector && parent !== head) {\n        parent.dataset.json = jsonScriptSelector;\n    }\n\n    if (jsonLdScriptSelector && parent !== head) {\n        parent.dataset.jsonLd = jsonLdScriptSelector;\n    }\n\n    if (scripts.length) {\n        parent.dataset.removedScripts = (Number(parent.dataset.removedScripts || 0) + scripts.length).toString();\n    }\n\n    safeScripts.forEach(script => head.appendChild(script));\n\n    scripts.forEach(script => parent.removeChild(script));\n\n    resolve && resolve();\n}\n\nexport function sendRemoveRedundantScriptsMessage({ selector }: IRemoveRedundantScripts) {\n    const massage = {\n        action: MessageAction.removeRedundantScripts,\n        params: {\n            selector\n        }\n    };\n\n    sendMessage(massage);\n}","import {\n    ILoadScript,\n    ILoadScriptLoadJsJsonJs,\n    ErrorMessage,\n    LocalScriptParams,\n    LocalStylesheetScriptParams,\n    ILoadRemoteStylesheetScriptParams,\n    ILoadRemoteScriptParams,\n    ILoadJsonScriptParams,\n    LoadScriptElement,\n    LoadedScript,\n    LinkRel,\n    ScriptAttribute,\n    ScriptType,\n    StringConstant,\n    regex,\n    Selector\n} from './types';\nimport loadElementQueryCss from './load-element-query-css';\nimport getTranspiledJs from './get-transpiled-js';\nimport removeRedundantScripts from './remove-redundant-scripts';\n\nconst { parse } = JSON;\nconst { failedToLoadScript } = ErrorMessage;\nconst { stylesheet } = LinkRel;\nconst { script: scriptElement, link, style } = LoadScriptElement;\nconst { remoteUrl, jsJsonJs, jsonJs, trailingJs } = regex;\nconst { nothing, slash } = StringConstant;\n\nexport default function<P extends ILoadScript['params']>(params: P) {\n    return loadScript(params);\n}\n\nfunction loadScript<P extends ILoadScript['params']>(params: P) {return new Promise(async (resolve: (script: LoadedScript<P>) => void, reject: ILoadScript['reject']) => {\n    const { head, body } = document;\n    const {\n        js,\n        name: scriptName,\n        jsonld,\n        removeFromDom,\n        workerDependency = false\n    } = params as LocalScriptParams;\n    const { src } = params as ILoadRemoteScriptParams;\n    const transpiledJs = (js || src && !src.match(remoteUrl)) && await getTranspiledJs({ js, url: src}) || '';\n    const { css, name: stylesheetName } = params as LocalStylesheetScriptParams;\n    const { href } = params as ILoadRemoteStylesheetScriptParams;\n    const { json } = params as ILoadJsonScriptParams;\n    const remoteScript = params.hasOwnProperty('src') || params.hasOwnProperty('href');\n    const element = (js || json|| src) && scriptElement\n        || css && style\n        || href && link;\n    const selector = src && `script[src=\"${src}\"]`\n        || href && `link[href=\"${href}\"]`\n        || js && scriptName && `script[data-name=\"${scriptName}\"]`\n        || jsonld && scriptName && `script[data-name=\"${scriptName}\"][type=\"${ScriptType.jsonld}\"]`\n        || css && stylesheetName && `style[data-name=\"${stylesheetName}\"]`;\n    const existingScript = (head.querySelector(selector) || body.querySelector(selector)) as LoadedScript<P>;\n    const script = selector\n        && element\n        && document.createElement(element) as LoadedScript<P>;\n\n    if (script instanceof HTMLScriptElement) {\n        if (!transpiledJs && src) {\n            script.src = src;\n        } else if (json || transpiledJs || js) {\n            script.innerHTML = json || transpiledJs || js;\n            script.dataset.name = scriptName || src;\n\n            if (jsonld) {\n                script.setAttribute(ScriptAttribute.type, ScriptType.jsonld);\n\n                script.dataset.jsonLd = script.dataset.name;\n            } else if (json) {\n                script.setAttribute(ScriptAttribute.type, ScriptType.json);\n            } else if (transpiledJs) {\n                script.dataset.transpiledJs = nothing;\n            }\n        }\n    } else if (script instanceof HTMLLinkElement) {\n        script.rel = stylesheet;\n        script.href = href;\n    } else if (script instanceof HTMLStyleElement) {\n        script.innerHTML = css;\n        script.dataset.name = stylesheetName;\n\n        await loadElementQueryCss({\n            css,\n            stylesheetName\n        });\n    }\n\n    if (existingScript) {\n        resolve(existingScript);\n    } else if (script) {\n        script.addEventListener('load', handleLoad);\n        script.addEventListener('error', handleLoadError);\n\n        head.appendChild(script);\n\n        if (workerDependency) {\n            script.dataset.workerDependency = nothing;\n        }\n\n        if (transpiledJs || !remoteScript) {\n            handleLoad();\n        }\n    }\n\n    async function handleLoad() {\n        if (script) {\n            removeEventListeners();\n\n            if (removeFromDom) {\n                head.removeChild(script);\n            }\n\n            if(src && src.match(jsJsonJs)){\n                await loadJsJsonJs({ src, workerDependency });\n            }\n\n            resolve(script);\n        }\n    }\n\n    function handleLoadError(event: Event) {\n        removeEventListeners();\n\n        console.error(event);\n\n        reject(new Error(`${failedToLoadScript}`));\n    }\n\n    function removeEventListeners() {\n        if (script) {\n            script.removeEventListener('load', handleLoad);\n            script.removeEventListener('error', handleLoadError);\n        }\n    }\n})};\n\nasync function loadJsJsonJs({ src, workerDependency }: ILoadScriptLoadJsJsonJs) {\n    const { head } = document;\n    const paths = src\n        .replace(trailingJs, nothing)\n        .split(slash);\n    const scriptName = paths[paths.length - 1];\n    const selector = src && scriptName && `script[type=\"${ScriptType.json}\"][data-name=\"${scriptName}\"]`;\n    const jsJsonJsScript = selector && head.querySelector<HTMLScriptElement>(selector);\n    const json = jsJsonJsScript && jsJsonJsScript.innerHTML && parse(jsJsonJsScript.innerHTML);\n    const js: string = json && json.text;\n    const name = src.replace(jsonJs, nothing);\n    const removeScriptSelector = [\n        `script[src=\"${src}\"]`,\n        selector,\n        Selector.transpiledJs\n    ].join(StringConstant.comma);\n\n    if (name && js) {\n        await loadScript({ name, js, workerDependency }).catch(handleError);\n\n        await removeRedundantScripts({selector: removeScriptSelector});\n    }\n}\n\nfunction handleError(error: Error) {\n    console.warn(error.name);\n    console.warn(error.message);\n    console.warn(error.stack);\n}","import { expect } from 'chai';\nimport {\n    EventName\n} from '../types';\nimport loadScript from '../load-script';\n\nconst src = 'vamtiger-browser-method.js.json.js';\n\nexport default () => describe('load vamtiger-browser-method', function () {\n    it('load script', loadScriptTest);\n    it('window.VamtigerBrowserMethod', vamtigerBrowserMethodTest);\n});\n\nfunction loadScriptTest() {return new Promise((resolve, reject) => {\n    const { VamtigerBrowserMethod } = self;\n    !VamtigerBrowserMethod && addEventListener(EventName.vamtigerBrowserMethodReady, resolve);\n\n    loadScript({name: src, src});\n\n    if (VamtigerBrowserMethod) {\n        resolve();\n    }\n})}\n\nfunction vamtigerBrowserMethodTest() {return new Promise((resolve, reject) => {\n    const { VamtigerBrowserMethod } = window;\n\n    expect(VamtigerBrowserMethod).to.be.ok;\n\n    resolve();\n})}","import { expect } from 'chai';\nimport { StringConstant } from '../types';\n\nconst { slash } = StringConstant;\nconst emptyScriptSrc = [\n    'test',\n    'empty-script.js'\n].join(slash);\nconst emptyStylesheetHref = [\n    'test',\n    'empty-stylesheet.css'\n].join(slash);\nconst emptyScriptsSrcs = new Array(10).fill(emptyScriptSrc) as string[];\nconst emptyStylesheetHrefs = new Array(10).fill(emptyStylesheetHref) as string[];\n\nexport default () => describe('loadScript', function () {\n    before(async function () {\n        const { VamtigerBrowserMethod } = window;\n        const { loadScript } = VamtigerBrowserMethod;await Promise.all(\n            emptyScriptsSrcs.map(src => loadScript({ src }))\n        );\n        await Promise.all(\n            emptyStylesheetHrefs.map(href => loadScript({ href }))\n        );\n    });\n\n    it('Append to Document Head', async function () {\n        const { head } = document;\n        const scriptSelector = `script[src=\"${emptyScriptSrc}\"]`;\n        const linkSelector = `link[href=\"${emptyStylesheetHref}\"]`;\n        const script = head.querySelector(scriptSelector);\n        const link = head.querySelector(linkSelector);\n\n        expect(script).to.be.ok;\n        expect(link).to.be.ok;\n    });\n\n    it('Append once per script', async function () {\n        const { head } = document;\n        const scriptSelector = `script[src=\"${emptyScriptSrc}\"]`;\n        const linkSelector = `link[href=\"${emptyStylesheetHref}\"]`;\n        const scripts = Array.from(head.querySelectorAll(scriptSelector));\n        const links = Array.from(head.querySelectorAll(linkSelector));\n\n        expect(scripts.length).to.equal(1);\n        expect(links.length).to.equal(1);\n    });\n\n    it('remote script', async function () {\n        const { VamtigerBrowserMethod } = window;\n        const { loadScript } = VamtigerBrowserMethod;\n        const script = await loadScript({\n            src: emptyScriptSrc\n        });\n\n        expect(script instanceof HTMLScriptElement).to.be.true;\n    });\n\n    it('remote stylesheet', async function () {\n        const { VamtigerBrowserMethod } = window;\n        const { loadScript } = VamtigerBrowserMethod;\n        const script = await loadScript({\n            href: emptyStylesheetHref\n        });\n\n        expect(script instanceof HTMLLinkElement).to.be.true;\n    });\n\n    it('inline script', async function () {\n        const { VamtigerBrowserMethod } = window;\n        const { loadScript } = VamtigerBrowserMethod;\n        const script = await loadScript({\n            js: 'console.log(\"inline script\");',\n            name: 'inline-script'\n        });\n\n        expect(script instanceof HTMLScriptElement).to.be.true;\n        expect(script.dataset.name).to.equal('inline-script');\n    });\n\n    it('inline stylesheet', async function () {\n        const { VamtigerBrowserMethod } = window;\n        const { loadScript } = VamtigerBrowserMethod;\n        const script = await loadScript({\n            css: '/** Inline Stylesheet **/',\n            name: 'inline-stylesheet'\n        });\n\n        expect(script instanceof HTMLStyleElement).to.be.true;\n        expect(script.dataset.name).to.equal('inline-stylesheet');\n    });\n});","import { expect } from 'chai';\n\nexport default () => describe('getTemplate', function () {\n    this.timeout(5000);\n\n    it('template', templateTest);\n\n    it('url', urlTest);\n});\n\nasync function templateTest() {\n    const { VamtigerBrowserMethod } = window;\n    const { getElement  } = VamtigerBrowserMethod;\n    const element = await getElement({\n        name: 'templateTest',\n        template: `<div>/div>`\n    })\n\n    expect(element).to.be.ok;\n}\n\nasync function urlTest(){\n    const { VamtigerBrowserMethod } = window;\n    const { getElement  } = VamtigerBrowserMethod;\n    const element = await getElement({\n        name: 'urlTemplateTest',\n        url: 'template.html',\n        selector: '[data-url-template]'\n    })\n\n    expect(element).to.be.ok;\n}","import { expect } from 'chai';\n\ninterface IJsonLd {\n    '@context': 'http://schema.org/',\n    '@type': 'Painting'\n}\n\ninterface IData {\n    jsonLd: IJsonLd[];\n}\n\nexport default () => describe.skip('getData', function () {\n    this.timeout(5000);\n    before(function () {\n        const { documentElement } = document;\n        const { dataset } = documentElement;\n\n        dataset.vamtigerTextMode = '';\n    });\n\n    it('json-ld', jsonLdTest);\n});\n\nasync function jsonLdTest() {\n    const { VamtigerBrowserMethod } = window;\n    const { getData  } = VamtigerBrowserMethod;\n    const data = await getData({\n        jsonLd: 'https://vamtiger-project.github.io/vamtiger-mental-health-botswana-json-ld/build/vamtiger-mental-health-botswana-2018-json-ld.js',\n        textMode: true\n    }) as IData;\n    const { jsonLd: currentJsonLd } = data;\n    const [ jsonLd ] = currentJsonLd;\n\n    expect(jsonLd).to.be.ok;\n    expect(jsonLd['@context']).to.equal('http://schema.org');\n    expect(jsonLd['@type']).to.equal('VisualArtwork');\n}","import {\n    IGetTabLink\n} from './types';\n\nexport default function ({ href, text }: IGetTabLink) {\n    const link = href && text && `<a href=\"${href}\" target=\"_blank\">${text}</a>` || '';\n\n    return link;\n}","import {\n    IGetJsonLdArray,\n    IGetJsonLdArrayGetEntry,\n    StringConstant,\n    regex\n} from './types';\nimport {\n    jsonLdEntryValueType\n} from './config';\nimport getTabLink from './get-tab-link';\nimport getEmailLink from './get-email-link';\n\nconst { requestIdleCallback } = self;\nconst { nothing, slash } = StringConstant;\nconst { leadingAt, remoteUrl, email } = regex;\n\nexport default function (params: IGetJsonLdArray) {return new Promise(async (resolve: (jsonLdArray: string[][]) => void, reject) => {\n    if (requestIdleCallback) {\n        requestIdleCallback(() => getJsonLdArray(params).then(resolve).catch(reject));\n    } else {\n        setTimeout(() => getJsonLdArray(params).then(resolve).catch(reject), 0);\n    }\n})}\n\nexport async function getJsonLdArray({ jsonLd: currentJsonLd }: IGetJsonLdArray) {\n    const jsonLd = getJsonLd({\n        jsonLd: currentJsonLd\n    });\n    const keys = Object.keys(jsonLd);\n    const entries = await Promise.all(keys.map(key => getEntry({key, value: jsonLd[key]})));\n    const jsonLdArray = [] as string[][];\n\n    entries.forEach(entries => entries.forEach(entry => jsonLdArray.push(entry)));\n\n    return jsonLdArray;\n}\n\nfunction getJsonLd({ jsonLd }: IGetJsonLdArray) {\n    const { _ } = self;\n    const { startCase } = _;\n    const {\n        '@context': context = undefined,\n        '@type': type = undefined\n    } = jsonLd;\n    const typeLinkHref = context && type && [\n        context,\n        type\n    ].join(slash);\n    const typeLinkText = type && startCase(type);\n    const typeLink = getTabLink({\n        href: typeLinkHref,\n        text: typeLinkText\n    });\n\n    if (typeLink) {\n        jsonLd['@type'] = typeLink;\n    }\n\n    return jsonLd;\n}\n\nasync function getEntry({key, value}: IGetJsonLdArrayGetEntry) {\n    const { _ } = self;\n    const { startCase } = _;\n    const entryValue = jsonLdEntryValueType.has(typeof value) && value as string | number | boolean;\n    const valueArray = Array.isArray(value) && value || typeof value === 'object' && [value];\n    const nestedEntries = valueArray && await Promise.all(valueArray.map(jsonLd => getJsonLdArray({ jsonLd })));\n    const entry = [[startCase(key.replace(leadingAt, nothing)), entryValue && (key.match(email) && getEmailLink({href: entryValue.toString(), text: entryValue.toString()}) || getEntryValue(entryValue)) || nothing]];\n\n    nestedEntries && nestedEntries.forEach(nestedEntry => nestedEntry.forEach(currentNestedEntry => entry.push(currentNestedEntry)));\n\n    return entry;\n}\n\nfunction getEntryValue(value: string | number | boolean) {\n    const valueString = value.toString().trim();\n    const linkHref = valueString.match(remoteUrl) && valueString;\n    const linkText = linkHref && valueString && valueString.split(slash).pop();\n    const link = linkHref && linkText && getTabLink({\n        href: linkHref,\n        text: linkText\n    });\n    const entryValue = link || valueString;\n\n    return entryValue;\n}","import {\n    IGetEmailLink\n} from './types';\n\nexport default function ({ href, text }: IGetEmailLink) {\n    const link = href && text && `<a href=\"mailto:${href}\">${text}</a>` || '';\n\n    return link;\n}","import { expect } from 'chai';\nimport getJsonLdArray from '../get-json-ld-array';\n\nconst { parse } = JSON;\nconst selector = '[data-name=\"https://vamtiger-project.github.io/vamtiger-mental-health-botswana-json-ld/build/vamtiger-mental-health-botswana-2018-json-ld.js\"]';\n\nexport default () => describe.skip('getJsonLdArray', function () {\n    it('jsonLd arrray', async function () {\n        const { head } = document;\n        const script = head.querySelector<HTMLScriptElement>(selector);\n        const jsonLd = script && parse(script.innerHTML);\n\n        await getJsonLdArray({ jsonLd });\n    });\n});","import { expect } from 'chai';\n\nexport default () => describe.skip('intersectionObserver', function () {\n    before(function () {\n        const { VamtigerBrowserMethod } = window;\n        const { intersectionObserver } = VamtigerBrowserMethod;\n        const element = document.createElement('div');\n        const { dataset } = element;\n\n        dataset.intercetionObserver = '';\n\n        intersectionObserver && intersectionObserver.observe(element);\n\n        document.body.appendChild(element);\n    });\n\n    it('intersectionObserver', intersectionObserverTest);\n});\n\nasync function intersectionObserverTest() {\n\n}","import { expect } from 'chai';\n\nconst relativeUrl = location.origin.match(new RegExp('http://localhost', 'i')) &&\n    'test/test-method.js' || 'vamtiger-browser-method/build/test/test-method.js';\n\nexport default () => describe('loadMethod', function () {\n    it('script', loadMethodTest);\n});\n\nasync function loadMethodTest() {\n    const { VamtigerBrowserMethod } = self;\n    const { loadMethod } = VamtigerBrowserMethod;\n    const methodLoaded = await loadMethod({\n        relativeUrl,\n        name: 'test'\n    });\n    const namedMethod = VamtigerBrowserMethod.method.test;\n    const result = namedMethod && await namedMethod({param1: 1, param2: 2});\n\n    console.log(result);\n\n    expect(methodLoaded).to.be.true;\n}","import { expect } from 'chai';\n\nconst relativeUrl = location.origin.match(new RegExp('http://localhost', 'i')) &&\n    'test/test-method.js' || 'vamtiger-browser-method/build/test/test-method.js';\n\nexport default () => describe('getMethodResult', function () {\n    before(setup);\n\n    it('get result', noParamsTest);\n});\n\nasync function setup() {\n    const { VamtigerBrowserMethod } = self;\n    const { loadMethod } = VamtigerBrowserMethod;\n\n    await loadMethod({\n        relativeUrl,\n        name: 'test'\n    });\n}\n\nasync function noParamsTest() {\n    const { VamtigerBrowserMethod } = self;\n    const namedMethod = VamtigerBrowserMethod.method.test;\n    const result = namedMethod && await namedMethod({param3: 3, param4: 4});\n\n    console.log(result);\n\n    expect(result).to.be.ok;\n}","import { setup, run } from 'mocha';\nimport * as tslib from '../../node_modules/tslib/tslib';\nimport loadVamtigerBrowserMethod from './load-vamtiger-browser-method';;\nimport loadScript from './load-script';\nimport defineCustomElement from './define-custom-element';\nimport getElement from './get-element';\nimport getData from './get-data';\nimport getJsonLdArray from './get-json-ld-array';\nimport intersectionObserver from './intersection-observer';\nimport loadMethod from './load-method';\nimport getMethodResult from './get-method-result';\n\ntslib;\n\nsetup('bdd');\n\nloadVamtigerBrowserMethod();\nloadScript();\ndefineCustomElement();\ngetElement();\ngetData();\ngetJsonLdArray();\nintersectionObserver();\nloadMethod();\ngetMethodResult();\n\nrun();","import { expect } from 'chai';\n\nconst customElementName = 'new-custom-element';\n\nexport default () => describe('defineCustomElement', function () {\n    before(function () {\n        const { VamtigerBrowserMethod } = window;\n        const { defineCustomElement } = VamtigerBrowserMethod;\n\n        defineCustomElement({\n            name: customElementName,\n            constructor: HTMLElement\n        })\n    });\n\n    it('define a new custom element', async function () {\n        const { customElements } = window;\n\n        expect(customElements.get(customElementName)).to.be.ok;\n    });\n\n    it('throw an error when already defined', async function () {\n        const { VamtigerBrowserMethod } = window;\n        const { defineCustomElement } = VamtigerBrowserMethod;\n        const params = {\n            name: customElementName,\n            constructor: HTMLElement\n        };\n        const test = Promise.resolve()\n            .then(() => defineCustomElement(params))\n            .catch(error => expect(error).to.be.an('error'));\n\n        return test;\n    });\n});"],"names":["__extends","__assign","__rest","__decorate","__param","__metadata","__awaiter","__generator","__exportStar","__values","__read","__spread","__await","__asyncGenerator","__asyncDelegator","__asyncValues","__makeTemplateObject","__importStar","__importDefault","factory","root","global","self","this","createExporter","exports","previous","Object","create","defineProperty","value","__esModule","id","v","define","amd","module","exporter","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","assign","t","s","i","n","arguments","length","call","e","indexOf","getOwnPropertySymbols","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","paramIndex","decorator","metadataKey","metadataValue","metadata","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","apply","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","op","TypeError","pop","push","m","o","ar","error","concat","asyncIterator","q","a","resume","fulfill","settle","shift","cooked","raw","mod","k","default","Environment","CacheName","EventName","TimeoutDuration","MessageQueueName","Prefix","ElementId","Origin","HostName","LocalHostRelativePath","ScriptType","ScriptAttribute","DataAttribute","ErrorMessage","StringConstant","TagName","LinkRel","LoadScriptElement","Selector","TextModeElementName","MetaElementName","ScriptNameSuffix","ScriptName","MessageAction","DbName","DbStoreName","DbMode","DbKeyPath","Dependency","regex","RegExp","dash","sendMessageFromWorker","keys","map","join","pipe","vamtigerBrowserMethodJsonJs","vamtigerBrowserMethodJson","vamtigerBrowserMethod","transpiledJs","comma","postMessage","getPostMessage","nothing","requestIdleCallback","showRootHost","loadElementQueryCss","_a","css","_b","currentStylesheetName","_c","hostName","camelCase","metaElement","selector","properties","_d","dataset","_e","attributes","head","lastMetaElement","querySelector","attributeKeys","existingMetaElement","window","newMetaElment","document","createElement","nextElementSibling","insertBefore","appendChild","forEach","hasAttribute","setAttribute","dataKey","getMetaElment","stylesheetName","elementQueryCss","replace","EQCSS","register","parse","babel","presets","jsonLdEntryValueType","Set","serviceWorkerClients","fill","undefined","index","includeUncontrolled","handleError","console","warn","message","stack","Window","DedicatedWorkerGlobalScope","ServiceWorkerGlobalScope","params","isServiceWorker","type","config","baseConfig","clients","matchAll","getClients","stringify","textEncoder","TextEncoder","VamtigerBrowserMethod","worker","textEncoderSupport","stringMessage","encode","isWindow","isWorker","getServiceWorkerClients","all","client","sendMessageFromServiceWorker","innerHTML","isJson","prefix","parent","removeScriptsFromParent","setTimeout","removeScripts","removeRedundantScripts","sendMessage","action","sendRemoveRedundantScriptsMessage","scripts","from","querySelectorAll","jsScripts","filter","js","jsonScripts","json","script","isJsonScript","jsonLdScripts","jsonld","safeScripts","time","Date","getTime","jsonScriptName","jsonScriptSelector","jsonLdScriptName","jsonLdScriptSelector","name","jsonLd","removedScripts","Number","toString","removeChild","failedToLoadScript","stylesheet","scriptElement","link","style","remoteUrl","jsJsonJs","jsonJs","trailingJs","slash","loadScript","handleLoad","removeEventListeners","removeFromDom","src","match","workerDependency","paths","split","scriptName","jsJsonJsScript","text","removeScriptSelector","catch","loadJsJsonJs","handleLoadError","event","Error","removeEventListener","url","fetch","Babel","transform","response","code","trim","getTranspiledJs","href","remoteScript","element","existingScript","HTMLScriptElement","HTMLLinkElement","rel","HTMLStyleElement","addEventListener","loadScriptTest","vamtigerBrowserMethodReady","vamtigerBrowserMethodTest","expect","to","be","ok","emptyScriptSrc","emptyStylesheetHref","emptyScriptsSrcs","emptyStylesheetHrefs","templateTest","getElement","template","urlTest","jsonLdTest","getData","textMode","data","currentJsonLd","equal","leadingAt","email","getJsonLdArray","startCase","context","typeLinkHref","typeLinkText","typeLink","getTabLink","getJsonLd","entryValue","has","valueArray","isArray","nestedEntries","entry","valueString","linkHref","linkText","getEntryValue","nestedEntry","currentNestedEntry","getEntry","entries","jsonLdArray","intersectionObserverTest","relativeUrl","location","origin","loadMethodTest","loadMethod","methodLoaded","namedMethod","method","test","param1","param2","log","true","setup","noParamsTest","param3","param4","describe","it","before","scriptSelector","linkSelector","links","defineCustomElement","HTMLElement","customElements","get","an","timeout","skip","vamtigerTextMode","intersectionObserver","intercetionObserver","observe","run"],"mappings":"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"}